# CompTIA Network+ Learning Platform - Environment Configuration
# =============================================================================
# CRITICAL: Never commit real values to version control!
# Generate secrets with: openssl rand -base64 32
# =============================================================================

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3001
API_PREFIX=/api

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection string
DB_HOST=localhost
DB_PORT=5432
DB_NAME=comptia_network_plus
DB_USER=postgres
DB_PASSWORD=your_password_here

# Database pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT_MS=30000
DB_CONNECTION_TIMEOUT_MS=2000

# =============================================================================
# SECURITY - JWT TOKENS
# =============================================================================
# IMPORTANT: Generate secure random secrets using: openssl rand -base64 32

# JWT Access Token Secret (MUST be at least 32 characters)
JWT_SECRET=<GENERATE_WITH_OPENSSL_RAND_BASE64_32>
JWT_EXPIRES_IN=15m

# JWT Refresh Token Secret (MUST be different from JWT_SECRET)
REFRESH_TOKEN_SECRET=<GENERATE_WITH_OPENSSL_RAND_BASE64_32>
REFRESH_TOKEN_EXPIRES_IN=7d

# =============================================================================
# SECURITY - SESSION
# =============================================================================
# Session secret for cookie signing (MUST be at least 32 characters)
SESSION_SECRET=<GENERATE_WITH_OPENSSL_RAND_BASE64_32>

# =============================================================================
# SECURITY - CORS
# =============================================================================
# Allowed origin for CORS (set to your frontend domain in production)
CORS_ORIGIN=http://localhost:3000

# =============================================================================
# SECURITY - RATE LIMITING
# =============================================================================
# Global rate limit window (in milliseconds)
RATE_LIMIT_WINDOW_MS=900000
# Global rate limit max requests per window
RATE_LIMIT_MAX_REQUESTS=1000

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=info
LOG_DIR=./logs
LOG_TO_FILE=true
LOG_TO_CONSOLE=true

# =============================================================================
# EMAIL CONFIGURATION (Optional - for production)
# =============================================================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=noreply@example.com
SMTP_PASS=<YOUR_SMTP_PASSWORD>
EMAIL_FROM=CompTIA Network+ Platform <noreply@example.com>

# =============================================================================
# SECURITY - PASSWORD POLICY
# =============================================================================
MIN_PASSWORD_LENGTH=8
MAX_PASSWORD_LENGTH=100
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_HASH_ROUNDS=10

# =============================================================================
# SECURITY - ACCOUNT LOCKOUT
# =============================================================================
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=900

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
# 1. All secrets are generated with strong random values
# 2. NODE_ENV is set to "production"
# 3. CORS_ORIGIN is set to production frontend domain
# 4. JWT secrets are unique and never reused
# 5. HTTPS is enabled
# 6. Debug mode is disabled
# 7. Appropriate rate limits are configured
