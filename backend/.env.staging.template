# =================================
# STAGING ENVIRONMENT VARIABLES
# =================================
#
# ⚠️  SECURITY NOTES:
# 1. Staging should mirror production configuration
# 2. Use different secrets than production
# 3. Can have relaxed logging for debugging
# =================================

# Node Environment
NODE_ENV=staging
PORT=3001

# Database Configuration
DATABASE_URL=postgresql://[DB_USER]:[DB_PASSWORD]@[DB_HOST]:5432/[DB_NAME]_staging
DB_HOST=staging-db-host.com
DB_PORT=5432
DB_USER=[GENERATED_STAGING]
DB_PASSWORD=[GENERATED_STAGING]
DB_NAME=[GENERATED_STAGING]_staging
DB_SSL=true
DB_POOL_MIN=2
DB_POOL_MAX=5
DB_CONNECTION_TIMEOUT=10000
DB_IDLE_TIMEOUT=30000

# JWT Authentication
JWT_SECRET=[GENERATED_STAGING - 32 chars]
JWT_EXPIRATION=30m
REFRESH_TOKEN_SECRET=[GENERATED_STAGING - 32 chars]
REFRESH_TOKEN_EXPIRATION=7d
JWT_ALGORITHM=HS256

# Session Configuration
SESSION_SECRET=[GENERATED_STAGING - 64 chars]
SESSION_DURATION=86400000
SESSION_NAME=comptia_session_staging
COOKIE_SECRET=[GENERATED_STAGING - 32 chars]
COOKIE_SECURE=true
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=strict

# Encryption
ENCRYPTION_KEY=[GENERATED_STAGING - 64 chars]
ENCRYPTION_ALGORITHM=aes-256-gcm

# Security
BCRYPT_ROUNDS=10
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
CSRF_SECRET=[GENERATED_STAGING - 64 chars]
MAX_LOGIN_ATTEMPTS=10
LOCKOUT_DURATION=900000

# CORS Configuration
CORS_ORIGIN=https://staging.yourdomain.com
ALLOWED_ORIGINS=https://staging.yourdomain.com,https://staging-www.yourdomain.com
CORS_CREDENTIALS=true

# API Keys
API_KEY=[GENERATED_STAGING - 32 chars]
ADMIN_API_KEY=[GENERATED_STAGING - 32 chars]

# Email Service (Test configuration)
SENDGRID_API_KEY=[STAGING_KEY_FROM_SENDGRID]
FROM_EMAIL=staging@yourdomain.com
FROM_NAME=CompTIA Network+ Platform (Staging)

# Redis (Staging instance)
REDIS_URL=redis://[STAGING_REDIS_HOST]:6379
REDIS_PASSWORD=[GENERATED_STAGING]
REDIS_TLS=true
REDIS_DB=1
REDIS_PREFIX=comptia:staging:

# Monitoring & Analytics
SENTRY_DSN=[STAGING_SENTRY_DSN]
SENTRY_ENVIRONMENT=staging
SENTRY_TRACES_SAMPLE_RATE=1.0
GOOGLE_ANALYTICS_ID=

# Logging (More verbose for debugging)
LOG_LEVEL=debug
LOG_TO_FILE=true
LOG_FILE_PATH=/var/log/comptia-network/staging.log
LOG_MAX_SIZE=10485760
LOG_MAX_FILES=10

# Application URLs
API_URL=https://staging-api.yourdomain.com
FRONTEND_URL=https://staging.yourdomain.com
ADMIN_URL=https://staging-admin.yourdomain.com

# Feature Flags (Test all features)
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_TWO_FACTOR=true
ENABLE_RATE_LIMITING=true
ENABLE_CORS=true
ENABLE_HELMET=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=7
