import{j as e}from"./ui-vendor-C0RbxujU.js";import{a as t,R as a}from"./react-vendor-jGr1bFq6.js";const s=[{id:"cisco-isr-4331",name:"Cisco ISR 4331",type:"router",category:"physical",manufacturer:"Cisco",model:"ISR 4331",specs:{throughput:"100-300 Mbps",maxConnections:5e3,portCount:3,rackUnits:1,powerConsumption:"50-75W",memoryGB:4,storageGB:8,redundancy:!0,hotSwappable:!1},features:{layer3Routing:!0,vlanSupport:!0,qosCapabilities:!0,vpnSupport:!0,loadBalancing:!1,highAvailability:!0,deepPacketInspection:!1,threatPrevention:!1,webFiltering:!1,applicationControl:!1},pricing:{initialCost:3500,annualMaintenanceCost:500,powerCostPerYear:65,totalCostYear1:4065,totalCost3Years:5565,totalCost5Years:6565},useCase:["Branch office connectivity","WAN aggregation","VPN termination"],pros:["Proven reliability","Extensive protocol support","Strong security features","Good performance for branch offices"],cons:["Higher upfront cost","Complex configuration","Requires specialized knowledge","Limited scalability without upgrades"]},{id:"pfsense-virtual",name:"pfSense Virtual Firewall",type:"firewall-stateful",category:"virtual",manufacturer:"Netgate",model:"pfSense CE",specs:{throughput:"1-10 Gbps",maxConnections:5e4,portCount:0,rackUnits:0,powerConsumption:"0W (VM)",memoryGB:8,storageGB:20,redundancy:!0,hotSwappable:!0},features:{layer3Routing:!0,vlanSupport:!0,qosCapabilities:!0,vpnSupport:!0,loadBalancing:!0,highAvailability:!0,deepPacketInspection:!0,threatPrevention:!0,webFiltering:!0,applicationControl:!0},pricing:{initialCost:0,annualMaintenanceCost:399,powerCostPerYear:0,totalCostYear1:399,totalCost3Years:1197,totalCost5Years:1995},useCase:["Small to medium business firewall","VPN gateway","Traffic shaping"],pros:["Zero hardware cost","Rapid deployment","Easy scaling","Active community support","Flexible configuration"],cons:["Requires hypervisor infrastructure","Performance depends on host","Less vendor support than commercial options"]},{id:"fortinet-fg-100f",name:"FortiGate 100F",type:"firewall-stateful",category:"physical",manufacturer:"Fortinet",model:"FG-100F",specs:{throughput:"10 Gbps",maxConnections:5e5,portCount:18,rackUnits:1,powerConsumption:"35W",memoryGB:4,storageGB:240,redundancy:!0,hotSwappable:!0},features:{layer3Routing:!0,vlanSupport:!0,qosCapabilities:!0,vpnSupport:!0,loadBalancing:!0,highAvailability:!0,deepPacketInspection:!0,threatPrevention:!0,webFiltering:!0,applicationControl:!0},pricing:{initialCost:1800,annualMaintenanceCost:650,powerCostPerYear:38,totalCostYear1:2488,totalCost3Years:3788,totalCost5Years:5088},useCase:["SMB perimeter security","SD-WAN","Secure remote access"],pros:["High performance","Comprehensive security features","Integrated threat intelligence","Good price-to-performance ratio"],cons:["Annual subscription required","Complex initial setup","Interface can be overwhelming"]},{id:"cisco-catalyst-9300",name:"Cisco Catalyst 9300",type:"switch",category:"physical",manufacturer:"Cisco",model:"C9300-48P",specs:{throughput:"176 Gbps",maxConnections:32e3,portCount:48,rackUnits:1,powerConsumption:"740W (PoE)",memoryGB:8,storageGB:32,redundancy:!0,hotSwappable:!0},features:{layer3Routing:!0,vlanSupport:!0,qosCapabilities:!0,vpnSupport:!1,loadBalancing:!1,highAvailability:!0,deepPacketInspection:!1,threatPrevention:!1,webFiltering:!1,applicationControl:!1},pricing:{initialCost:12e3,annualMaintenanceCost:1200,powerCostPerYear:810,totalCostYear1:14010,totalCost3Years:16410,totalCost5Years:18810},useCase:["Campus access layer","PoE for IP phones/cameras","IoT connectivity"],pros:["High port density","PoE+ support","Stackable design","Advanced security features","SD-Access ready"],cons:["Expensive upfront cost","Requires DNA licensing for full features","Overkill for small deployments"]},{id:"f5-big-ip-virtual",name:"F5 BIG-IP Virtual Edition",type:"load-balancer",category:"virtual",manufacturer:"F5",model:"BIG-IP VE",specs:{throughput:"200 Mbps - 10 Gbps",maxConnections:1e7,portCount:0,rackUnits:0,powerConsumption:"0W (VM)",memoryGB:16,storageGB:160,redundancy:!0,hotSwappable:!0},features:{layer3Routing:!0,vlanSupport:!0,qosCapabilities:!0,vpnSupport:!0,loadBalancing:!0,highAvailability:!0,deepPacketInspection:!0,threatPrevention:!0,webFiltering:!1,applicationControl:!0},pricing:{initialCost:5e3,annualMaintenanceCost:2e3,powerCostPerYear:0,totalCostYear1:7e3,totalCost3Years:11e3,totalCost5Years:15e3},useCase:["Application delivery controller","SSL offloading","Web application firewall"],pros:["Industry-leading ADC","Flexible licensing","Cloud-native deployment","Extensive protocol support"],cons:["Expensive licensing","Steep learning curve","Can be resource-intensive"]},{id:"palo-alto-vm-series",name:"Palo Alto VM-Series",type:"firewall-ngfw",category:"virtual",manufacturer:"Palo Alto",model:"VM-50",specs:{throughput:"500 Mbps",maxConnections:64e3,portCount:0,rackUnits:0,powerConsumption:"0W (VM)",memoryGB:6.5,storageGB:60,redundancy:!0,hotSwappable:!0},features:{layer3Routing:!0,vlanSupport:!0,qosCapabilities:!0,vpnSupport:!0,loadBalancing:!1,highAvailability:!0,deepPacketInspection:!0,threatPrevention:!0,webFiltering:!0,applicationControl:!0},pricing:{initialCost:3500,annualMaintenanceCost:1200,powerCostPerYear:0,totalCostYear1:4700,totalCost3Years:7100,totalCost5Years:9500},useCase:["Cloud security","Multi-cloud connectivity","Microsegmentation"],pros:["Best-in-class threat prevention","Cloud-native design","Consistent policy across environments","Easy scaling"],cons:["Expensive subscriptions","Performance depends on VM resources","Complex pricing model"]},{id:"ubiquiti-dream-machine-pro",name:"UniFi Dream Machine Pro",type:"router",category:"physical",manufacturer:"Ubiquiti",model:"UDM-Pro",specs:{throughput:"3.5 Gbps",maxConnections:1e4,portCount:8,rackUnits:1,powerConsumption:"26W",memoryGB:4,storageGB:128,redundancy:!0,hotSwappable:!1},features:{layer3Routing:!0,vlanSupport:!0,qosCapabilities:!0,vpnSupport:!0,loadBalancing:!1,highAvailability:!1,deepPacketInspection:!0,threatPrevention:!0,webFiltering:!1,applicationControl:!1},pricing:{initialCost:379,annualMaintenanceCost:0,powerCostPerYear:28,totalCostYear1:407,totalCost3Years:463,totalCost5Years:519},useCase:["Small business all-in-one","Home office","Remote site"],pros:["All-in-one solution","No licensing fees","User-friendly interface","Good performance for price","Built-in NVR"],cons:["Limited enterprise features","No phone support","Single point of failure","Limited redundancy options"]},{id:"aws-transit-gateway",name:"AWS Transit Gateway",type:"router",category:"cloud",manufacturer:"Amazon",model:"Transit Gateway",specs:{throughput:"Up to 50 Gbps per VPC",maxConnections:5e3,portCount:0,rackUnits:0,powerConsumption:"0W (Cloud)",memoryGB:0,storageGB:0,redundancy:!0,hotSwappable:!0},features:{layer3Routing:!0,vlanSupport:!1,qosCapabilities:!1,vpnSupport:!0,loadBalancing:!0,highAvailability:!0,deepPacketInspection:!1,threatPrevention:!1,webFiltering:!1,applicationControl:!1},pricing:{initialCost:0,annualMaintenanceCost:4380,powerCostPerYear:0,totalCostYear1:4380,totalCost3Years:13140,totalCost5Years:21900},useCase:["Multi-VPC connectivity","Hybrid cloud","Cloud WAN"],pros:["No hardware to manage","Automatic scaling","Native AWS integration","High availability built-in"],cons:["Ongoing operational costs","AWS vendor lock-in","Data transfer costs add up","Limited protocol support"]}],n=new Map([["start",{id:"start",type:"question",text:"Do you already have virtualization infrastructure (VMware, Hyper-V, KVM)?",yesPath:"budget-check",noPath:"new-infra"}],["budget-check",{id:"budget-check",type:"question",text:"Is your budget for networking equipment less than $10,000?",yesPath:"virtual-recommend",noPath:"performance-critical"}],["new-infra",{id:"new-infra",type:"question",text:"Are you planning to deploy cloud infrastructure (AWS, Azure, GCP)?",yesPath:"cloud-native",noPath:"physical-required"}],["virtual-recommend",{id:"virtual-recommend",type:"question",text:"Do you need more than 5 Gbps of throughput for a single device?",yesPath:"hybrid-approach",noPath:"virtual-best"}],["performance-critical",{id:"performance-critical",type:"question",text:"Is network performance critical with sub-millisecond latency requirements?",yesPath:"physical-best",noPath:"hybrid-approach"}],["cloud-native",{id:"cloud-native",type:"recommendation",text:"Cloud-Native Virtual Appliances",devices:["aws-transit-gateway","palo-alto-vm-series","f5-big-ip-virtual"],rationale:"Cloud-native virtual appliances offer seamless integration with cloud providers, automatic scaling, and pay-as-you-go pricing. Deploy VM-Series firewalls in AWS/Azure or use native services like AWS Transit Gateway for optimal cloud performance."}],["physical-required",{id:"physical-required",type:"question",text:"Do you need PoE (Power over Ethernet) for phones, cameras, or access points?",yesPath:"physical-with-poe",noPath:"small-physical"}],["virtual-best",{id:"virtual-best",type:"recommendation",text:"Virtual Appliances (Cost-Effective)",devices:["pfsense-virtual","palo-alto-vm-series","f5-big-ip-virtual"],rationale:"Virtual appliances provide excellent value for most use cases. Deploy pfSense for firewall/routing, Palo Alto VM-Series for advanced security, or F5 BIG-IP VE for load balancing. Total cost of ownership is significantly lower than physical appliances."}],["hybrid-approach",{id:"hybrid-approach",type:"recommendation",text:"Hybrid Approach (Best of Both Worlds)",devices:["cisco-isr-4331","pfsense-virtual","fortinet-fg-100f","palo-alto-vm-series"],rationale:"Combine physical and virtual appliances for optimal flexibility. Use physical devices for core routing and high-throughput workloads, while deploying virtual appliances for security functions, testing, and rapid scaling. This approach balances performance with cost-effectiveness."}],["physical-best",{id:"physical-best",type:"recommendation",text:"Physical Appliances (Maximum Performance)",devices:["cisco-catalyst-9300","fortinet-fg-100f","cisco-isr-4331"],rationale:"Physical appliances deliver predictable, maximum performance for mission-critical applications. Cisco Catalyst switches provide line-rate switching with PoE, while FortiGate firewalls offer dedicated ASICs for deep packet inspection at multi-gigabit speeds."}],["physical-with-poe",{id:"physical-with-poe",type:"recommendation",text:"Physical Switches with PoE",devices:["cisco-catalyst-9300","ubiquiti-dream-machine-pro"],rationale:"PoE requirements necessitate physical switches. Cisco Catalyst 9300 provides enterprise-grade performance with 48 PoE+ ports, while UniFi Dream Machine Pro offers an affordable all-in-one solution for smaller deployments with 8 PoE ports."}],["small-physical",{id:"small-physical",type:"recommendation",text:"Compact Physical Appliances",devices:["ubiquiti-dream-machine-pro","fortinet-fg-100f"],rationale:"For small to medium deployments without virtualization infrastructure, compact physical appliances offer the best value. UniFi Dream Machine Pro provides all-in-one routing, switching, and security for under $400, while FortiGate 100F delivers enterprise features at an accessible price point."}]]),i={router:{icon:"ðŸ”€",defaultSpecs:{throughput:"1 Gbps",maxConnections:1e3,powerConsumption:"50W",redundancy:!1,hotSwappable:!1}},switch:{icon:"ðŸ”Œ",defaultSpecs:{throughput:"10 Gbps",maxConnections:8e3,portCount:24,powerConsumption:"100W",redundancy:!1,hotSwappable:!1}},firewall:{icon:"ðŸ›¡ï¸",defaultSpecs:{throughput:"2 Gbps",maxConnections:5e4,powerConsumption:"75W",redundancy:!0,hotSwappable:!1}},"load-balancer":{icon:"âš–ï¸",defaultSpecs:{throughput:"5 Gbps",maxConnections:1e5,powerConsumption:"60W",redundancy:!0,hotSwappable:!1}},"wireless-controller":{icon:"ðŸ“¡",defaultSpecs:{throughput:"1 Gbps",maxConnections:500,powerConsumption:"40W",redundancy:!1,hotSwappable:!1}}},o=e=>s.find(t=>t.id===e),r=e=>{const[a,s]=t.useState("start"),[i,r]=t.useState(["start"]),[l,c]=t.useState(!1),[d,p]=t.useState(null),[u,h]=t.useState(!1),[m,g]=t.useState(0),x=n.get(a),y=t.useCallback(t=>{if(!x||"recommendation"===x.type)return;const a="yes"===t?x.yesPath:x.noPath;if(a){const t=n.get(a);s(a),r([...i,a]),c(!1),"recommendation"===t?.type&&e&&t.devices&&e(t.devices)}},[x,i,e]),f=t.useMemo(()=>"recommendation"===x?.type&&x.devices?x.devices.map(o).filter(e=>void 0!==e):[],[x]);return{currentNodeId:a,currentNode:x,history:i,showComparison:l,comparisonData:d,showExamScenario:u,examIndex:m,recommendedDevices:f,handleAnswer:y,handleReset:()=>{s("start"),r(["start"]),c(!1),h(!1)},handleGoBack:()=>{if(i.length>1){const e=i.slice(0,-1),t=e[e.length-1];s(t),r(e),c(!1)}},handleCompareDevices:()=>{if("recommendation"===x?.type&&x.devices){const e=x.devices.map(o).filter(e=>void 0!==e);if(e.length>0){const t=(e=>e.length<2?"Need at least 2 devices to compare":`Cost (per year): ${e.sort((e,t)=>e.pricing.totalCostYear1-t.pricing.totalCostYear1).map(e=>`${e.name}: $${e.pricing.totalCostYear1.toLocaleString()}/year`).join(" | ")}\n\nThroughput: ${e.sort((e,t)=>{const a=parseInt(e.specs.throughput.split("-")[1]||"0");return parseInt(t.specs.throughput.split("-")[1]||"0")-a}).map(e=>`${e.name}: ${e.specs.throughput}`).join(" | ")}`)(e);p({devices:e,comparison:t}),c(!0)}}},setShowComparison:c,setShowExamScenario:h,setExamIndex:g}},l=[{title:"Branch Office Connectivity",description:"A small branch office needs to connect to headquarters with redundancy and VPN termination.",answer:"cisco-isr-4331",reasoning:"ISR routers are purpose-built for branch connectivity with built-in VPN support."},{title:"Cost-Conscious Firewall Deployment",description:"Budget is tight ($2K-5K) but you need advanced security features and existing virtualization.",answer:"pfsense-virtual",reasoning:"Virtual appliances offer zero hardware cost and advanced features at a fraction of physical prices."},{title:"Enterprise Data Center",description:"Deploy high-density PoE switches for campus network with 100+ devices.",answer:"cisco-catalyst-9300",reasoning:"Catalyst 9300 provides 48+ PoE ports, high throughput, and enterprise-grade reliability."}],c=({currentNode:t,onAnswer:a})=>e.jsx("div",{className:"rounded-lg bg-gradient-to-br from-blue-50 to-indigo-50 p-6 dark:from-blue-900 dark:to-indigo-900",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-blue-500 text-xl font-bold text-white",children:"?"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-6 text-lg font-semibold text-gray-800 dark:text-gray-100",children:t.text}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>a("yes"),className:"flex-1 rounded-lg bg-green-500 px-6 py-3 font-medium text-white shadow-md transition-colors hover:bg-green-600 hover:shadow-lg",children:"Yes"}),e.jsx("button",{onClick:()=>a("no"),className:"flex-1 rounded-lg bg-red-500 px-6 py-3 font-medium text-white shadow-md transition-colors hover:bg-red-600 hover:shadow-lg",children:"No"})]})]})]})}),d=({device:t})=>e.jsxs("div",{className:"rounded-lg border-2 border-green-200 bg-white p-4 transition-colors hover:border-green-400 dark:border-green-700 dark:bg-gray-800",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[e.jsx("h5",{className:"font-bold text-gray-800 dark:text-gray-100",children:t.name}),e.jsx("span",{className:"rounded px-2 py-1 text-xs font-medium "+("physical"===t.category?"bg-blue-100 text-blue-800":"virtual"===t.category?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"),children:t.category})]}),e.jsxs("p",{className:"mb-3 text-xs text-gray-600 dark:text-gray-400",children:[t.manufacturer," - ",t.model]}),e.jsxs("div",{className:"mb-3 space-y-2 text-xs text-gray-700 dark:text-gray-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Throughput:"})," ",t.specs.throughput]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Year 1 Cost:"})," $",t.pricing.totalCostYear1.toLocaleString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Connections:"})," ",t.specs.maxConnections.toLocaleString()]})]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[e.jsx("p",{className:"mb-1 font-medium text-gray-700 dark:text-gray-200",children:"Best for:"}),e.jsx("ul",{className:"list-inside list-disc space-y-0.5",children:t.useCase.slice(0,2).map((t,a)=>e.jsx("li",{children:t},a))})]})]}),p=({currentNode:t,devices:a,onCompare:s,onExamScenario:n})=>e.jsxs("div",{className:"space-y-6 rounded-lg bg-gradient-to-br from-green-50 to-emerald-50 p-6 dark:from-green-900 dark:to-emerald-900",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-green-500 text-xl font-bold text-white",children:"âœ“"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"mb-2 text-xl font-bold text-gray-800 dark:text-gray-100",children:["Recommendation: ",t.text]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.rationale})]})]}),a.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Recommended Devices:"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.map(t=>e.jsx(d,{device:t},t.id))})]}),a.length>1&&e.jsx("button",{onClick:s,className:"w-full rounded-lg bg-blue-500 px-4 py-3 font-medium text-white transition-colors hover:bg-blue-600",children:"Compare Devices"}),e.jsx("button",{onClick:n,className:"w-full rounded-lg bg-purple-500 px-4 py-3 font-medium text-white transition-colors hover:bg-purple-600",children:"View Exam Scenarios"})]}),u=({data:t,onClose:a})=>e.jsxs("div",{className:"space-y-4 rounded-lg bg-gradient-to-br from-yellow-50 to-orange-50 p-6 dark:from-yellow-900 dark:to-orange-900",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:"Device Comparison"}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Close"})]}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-300 dark:border-gray-600",children:[e.jsx("th",{className:"px-2 py-2 text-left font-semibold text-gray-900 dark:text-gray-100",children:"Device"}),e.jsx("th",{className:"px-2 py-2 text-left font-semibold text-gray-900 dark:text-gray-100",children:"Category"}),e.jsx("th",{className:"px-2 py-2 text-right font-semibold text-gray-900 dark:text-gray-100",children:"Year 1 Cost"}),e.jsx("th",{className:"px-2 py-2 text-left font-semibold text-gray-900 dark:text-gray-100",children:"Throughput"})]})}),e.jsx("tbody",{children:t.devices.map(t=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-white dark:border-gray-600 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-2 py-2 font-medium text-gray-800 dark:text-gray-100",children:t.name}),e.jsx("td",{className:"px-2 py-2 text-gray-600 dark:text-gray-400",children:t.category}),e.jsxs("td",{className:"px-2 py-2 text-right text-gray-600 dark:text-gray-400",children:["$",t.pricing.totalCostYear1.toLocaleString()]}),e.jsx("td",{className:"px-2 py-2 text-gray-600 dark:text-gray-400",children:t.specs.throughput})]},t.id))})]}),e.jsx("div",{className:"rounded-lg bg-white p-4 dark:bg-gray-800",children:e.jsx("p",{className:"whitespace-pre-line text-sm text-gray-700 dark:text-gray-200",children:t.comparison})})]}),h=({scenario:t,onClose:a,onNext:n})=>{const i=s.find(e=>e.id===t.answer);return e.jsxs("div",{className:"space-y-4 rounded-lg bg-gradient-to-br from-purple-50 to-pink-50 p-6 dark:from-purple-900 dark:to-pink-900",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:"Exam Scenario"}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Close"})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 dark:bg-gray-800",children:[e.jsx("h4",{className:"mb-2 font-semibold text-gray-800 dark:text-gray-100",children:t.title}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:t.description})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 dark:bg-gray-800",children:[e.jsx("p",{className:"mb-2 font-semibold text-gray-800 dark:text-gray-100",children:"Correct Answer:"}),e.jsx("p",{className:"mb-2 font-medium text-green-700 dark:text-green-400",children:i?.name}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:t.reasoning})]}),e.jsx("button",{onClick:n,className:"w-full rounded-lg bg-purple-500 px-4 py-2 font-medium text-white transition-colors hover:bg-purple-600",children:"Next Scenario"})]})},m=({history:t})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Progress:"}),e.jsx("div",{className:"h-2 flex-1 rounded-full bg-gray-200",children:e.jsx("div",{className:"h-2 rounded-full bg-blue-500 transition-all duration-300",style:{width:t.length/5*100+"%"}})}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.length," / ~5 steps"]})]}),e.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto text-xs text-gray-500 dark:text-gray-400",children:t.map((s,i)=>{const o=n.get(s);return e.jsxs(a.Fragment,{children:[i>0&&e.jsx("span",{children:"â†’"}),e.jsxs("span",{className:"whitespace-nowrap "+(i===t.length-1?"font-semibold text-blue-600":""),children:[o?.text.slice(0,25),"..."]})]},s)})})]}),g=({history:t,onGoBack:a,onReset:s})=>e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("button",{onClick:a,disabled:t.length<=1,className:"rounded-lg px-4 py-2 font-medium transition-colors "+(t.length<=1?"cursor-not-allowed bg-gray-200 text-gray-400":"bg-gray-500 text-white hover:bg-gray-600"),children:"Back"}),e.jsx("button",{onClick:s,className:"rounded-lg bg-blue-500 px-4 py-2 font-medium text-white transition-colors hover:bg-blue-600",children:"Restart"})]}),x=()=>e.jsxs("div",{className:"rounded-lg bg-gray-50 p-4 text-sm dark:bg-gray-800",children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-200",children:"How to use:"}),e.jsxs("ul",{className:"mt-2 list-inside list-disc space-y-1 text-gray-600 dark:text-gray-400",children:[e.jsx("li",{children:"Answer each question about your infrastructure needs"}),e.jsx("li",{children:"Get personalized device recommendations with detailed specs"}),e.jsx("li",{children:"Compare similar devices by cost, throughput, and features"}),e.jsx("li",{children:"Review exam scenarios to test your knowledge"})]})]}),y=Object.freeze(Object.defineProperty({__proto__:null,default:({onRecommendation:t})=>{const{currentNode:a,history:s,showComparison:n,comparisonData:i,showExamScenario:o,examIndex:d,recommendedDevices:y,handleAnswer:f,handleReset:b,handleGoBack:v,handleCompareDevices:w,setShowComparison:C,setShowExamScenario:j,setExamIndex:N}=r(t);return a?e.jsxs("div",{className:"mx-auto max-w-4xl space-y-6 rounded-lg bg-white p-6 shadow-lg",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-2 text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Network Device Decision Tree"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Answer targeted questions to get personalized device recommendations with cost analysis and exam scenarios."})]}),e.jsx(m,{history:s}),o?e.jsx(h,{scenario:l[d],onClose:()=>j(!1),onNext:()=>N(e=>(e+1)%l.length)}):n&&i?e.jsx(u,{data:i,onClose:()=>C(!1)}):"question"===a.type?e.jsx(c,{currentNode:a,onAnswer:f}):e.jsx(p,{currentNode:a,devices:y,onCompare:w,onExamScenario:()=>j(!0)}),e.jsx(g,{history:s,onGoBack:v,onReset:b}),e.jsx(x,{})]}):e.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-lg",children:[e.jsx("p",{className:"text-red-500",children:"Error: Node not found"}),e.jsx("button",{onClick:b,className:"mt-4 rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600",children:"Restart"})]})}},Symbol.toStringTag,{value:"Module"}));function f(e,a,s){const[n,i]=t.useState({isRunning:!1,time:0,trafficFlows:[],alerts:[]});return t.useEffect(()=>{if(!n.isRunning)return;const t=window.setInterval(()=>{i(t=>{const n=t.time+1,i=[],o=[...t.alerts];if(e.length>1&&Math.random()>.5){const t=e[Math.floor(Math.random()*e.length)],s=e.filter(e=>e.id!==t.id)[Math.floor(Math.random()*(e.length-1))];if(s){const e=function(e,t,a){const s=[{deviceId:e,path:[]}],n=new Set([e]);for(;s.length>0;){const e=s.shift();if(e.deviceId===t)return e.path;const i=a.filter(t=>t.sourceId===e.deviceId||t.targetId===e.deviceId);for(const t of i){const a=t.sourceId===e.deviceId?t.targetId:t.sourceId;n.has(a)||(n.add(a),s.push({deviceId:a,path:[...e.path,t.id]}))}}return[]}(t.id,s.id,a);e.length>0&&i.push({id:`flow-${Date.now()}`,sourceDeviceId:t.id,targetDeviceId:s.id,connectionIds:e,protocol:["HTTP","SSH","FTP","DNS"][Math.floor(4*Math.random())],bandwidth:100*Math.random(),color:`hsl(${360*Math.random()}, 70%, 50%)`,animated:!0})}}s(e=>e.map(e=>{const t=i.filter(t=>t.sourceDeviceId===e.id||t.targetDeviceId===e.id),a=Math.min(100,(e.currentLoad||0)+t.reduce((e,t)=>e+t.bandwidth/10,0));let s="active";return a>90?(s="error",o.push({id:`alert-${Date.now()}`,severity:"critical",message:`${e.name} is overloaded (${a.toFixed(0)}%)`,deviceId:e.id,timestamp:n})):a>70&&(s="warning"),{...e,currentLoad:.95*a,status:s}}));const r=o.filter(e=>n-e.timestamp<10);return{...t,time:n,trafficFlows:i,alerts:r.slice(-5)}})},1e3);return()=>window.clearInterval(t)},[n.isRunning,e,a,s]),{simulationState:n,toggleSimulation:()=>{i(e=>({...e,isRunning:!e.isRunning}))},resetSimulation:()=>{i({isRunning:!1,time:0,trafficFlows:[],alerts:[]}),s(e=>e.map(e=>({...e,currentLoad:0,status:"active"})))}}}function b(e,a,s){const[n,i]=t.useState([]),[o,r]=t.useState(!1);return{savedNetworks:n,showSaveDialog:o,setShowSaveDialog:r,saveNetworkDesign:(e,t,a)=>{const s=function(e,t,a){return{id:`save-${Date.now()}`,name:e,timestamp:Date.now(),devices:JSON.parse(JSON.stringify(t)),connections:JSON.parse(JSON.stringify(a))}}(e,t,a);i([...n,s]),r(!1)},loadNetworkDesign:t=>{const i=n.find(e=>e.id===t);i&&(e(JSON.parse(JSON.stringify(i.devices))),a(JSON.parse(JSON.stringify(i.connections))),s())},deleteNetworkDesign:e=>{i(n.filter(t=>t.id!==e))}}}const v=[{value:"router",label:"Router"},{value:"switch",label:"Switch"},{value:"firewall-stateful",label:"Firewall"},{value:"load-balancer",label:"Load Balancer"},{value:"wireless-controller",label:"Wireless Controller"}],w=["Arrow keys: Move selected device (Shift for larger steps)","Tab/Shift+Tab: Cycle through devices","Enter: Configure selected device","Delete: Remove selected device","Escape: Deselect device"];function C(e){return i[e]?.icon||"ðŸ“¦"}function j(e){switch(e){case"active":return"border-green-500 bg-green-50";case"warning":return"border-yellow-500 bg-yellow-50";case"error":return"border-red-500 bg-red-50";case"inactive":return"border-gray-300 bg-gray-50"}}const N=({addDevice:t,simulationState:a,toggleSimulation:s,resetSimulation:n,setShowScenarios:i,showScenarios:o,setShowSaveDialog:r,showSaveDialog:l,exportNetworkDesign:c})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Network Architecture Simulator"}),e.jsx("button",{className:"rounded bg-gray-200 px-3 py-1 text-sm hover:bg-gray-300",onClick:()=>{alert("Keyboard Shortcuts:\n\n"+w.join("\n"))},title:"Show keyboard shortcuts",children:"âŒ¨ï¸ Shortcuts"})]}),e.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(a=>e.jsxs("button",{onClick:()=>t(a.value),className:"rounded bg-blue-500 px-3 py-2 text-sm text-white hover:bg-blue-600",title:`Add ${a.label}`,children:[C(a.value)," ",a.label]},a.value))}),e.jsxs("div",{className:"flex flex-wrap gap-2 lg:ml-auto",children:[e.jsxs("button",{onClick:s,className:"rounded px-4 py-2 font-medium "+(a.isRunning?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"),children:[a.isRunning?"â¸ Pause":"â–¶ Start"," Simulation"]}),e.jsx("button",{onClick:n,className:"rounded bg-gray-500 px-4 py-2 text-white hover:bg-gray-600",children:"ðŸ”„ Reset"}),e.jsx("button",{onClick:()=>i(!o),className:"rounded bg-purple-500 px-4 py-2 text-white hover:bg-purple-600",title:"Load troubleshooting scenarios",children:"ðŸ“‹ Scenarios"}),e.jsx("button",{onClick:()=>r(!l),className:"rounded bg-amber-500 px-4 py-2 text-white hover:bg-amber-600",title:"Save/Load network designs",children:"ðŸ’¾ Save/Load"}),e.jsx("button",{onClick:c,className:"rounded bg-cyan-500 px-4 py-2 text-white hover:bg-cyan-600",title:"Export network as JSON",children:"ðŸ“¤ Export"})]})]})]}),S=({showScenarios:t,setShowScenarios:a,scenarios:s,loadScenario:n})=>t?e.jsxs("div",{className:"mb-4 rounded border border-purple-300 bg-purple-50 p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Network Troubleshooting Scenarios"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-500 hover:text-gray-700",children:"Ã—"})]}),e.jsx("div",{className:"space-y-2",children:s.map(t=>e.jsx("div",{className:"rounded bg-white p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description}),e.jsxs("p",{className:"mt-1 text-xs text-blue-600",children:["Issue: ",t.expectedIssue]}),e.jsxs("p",{className:"text-xs text-green-600",children:["Hint: ",t.hint]})]}),e.jsx("button",{onClick:()=>n(t.id),className:"rounded bg-purple-500 px-3 py-1 text-sm text-white hover:bg-purple-600",children:"Load"})]})},t.id))})]}):null,k=({showSaveDialog:t,setShowSaveDialog:a,saveNetworkDesign:s,savedNetworks:n,loadNetworkDesign:i,deleteNetworkDesign:o})=>t?e.jsxs("div",{className:"mb-4 rounded border border-amber-300 bg-amber-50 p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Save & Load Networks"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-500 hover:text-gray-700",children:"Ã—"})]}),e.jsxs("div",{className:"mb-4 rounded bg-white p-3",children:[e.jsx("p",{className:"mb-2 text-sm font-medium",children:"Save Current Design"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Network name",id:"save-name",className:"flex-1 rounded border border-gray-300 px-2 py-1 text-sm"}),e.jsx("button",{onClick:()=>{const e=document.getElementById("save-name")?.value;e&&(s(e),document.getElementById("save-name").value="")},className:"rounded bg-green-500 px-3 py-1 text-sm text-white hover:bg-green-600",children:"Save"})]})]}),n.length>0&&e.jsxs("div",{className:"rounded bg-white p-3",children:[e.jsx("p",{className:"mb-2 text-sm font-medium",children:"Saved Designs"}),e.jsx("div",{className:"space-y-2",children:n.map(t=>e.jsxs("div",{className:"flex items-center justify-between rounded border border-gray-200 p-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(t.timestamp).toLocaleString()})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>i(t.id),className:"rounded bg-blue-500 px-2 py-1 text-xs text-white hover:bg-blue-600",children:"Load"}),e.jsx("button",{onClick:()=>o(t.id),className:"rounded bg-red-500 px-2 py-1 text-xs text-white hover:bg-red-600",children:"Delete"})]})]},t.id))})]})]}):null,D=({showConfigPanel:t,setShowConfigPanel:a,selectedDeviceData:s,deviceConfig:n,setDeviceConfig:i,updateDeviceConfig:o})=>t&&s?e.jsxs("div",{className:"mb-4 rounded border border-blue-300 bg-blue-50 p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold",children:["Device Configuration: ",s.name]}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-500 hover:text-gray-700",children:"Ã—"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"device-name",className:"block text-sm font-medium",children:"Device Name"}),e.jsx("input",{id:"device-name",type:"text",value:n?.name||"",onChange:e=>i(n?{...n,name:e.target.value}:null),className:"mt-1 w-full rounded border border-gray-300 px-2 py-1 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"device-throughput",className:"block text-sm font-medium",children:"Throughput"}),e.jsx("input",{id:"device-throughput",type:"text",value:n?.throughput||"",onChange:e=>i(n?{...n,throughput:e.target.value}:null),className:"mt-1 w-full rounded border border-gray-300 px-2 py-1 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"device-max-connections",className:"block text-sm font-medium",children:"Max Connections"}),e.jsx("input",{id:"device-max-connections",type:"number",value:n?.maxConnections||0,onChange:e=>i(n?{...n,maxConnections:parseInt(e.target.value,10)}:null),className:"mt-1 w-full rounded border border-gray-300 px-2 py-1 text-sm"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:n?.redundancy||!1,onChange:e=>i(n?{...n,redundancy:e.target.checked}:null),className:"rounded border-gray-300"}),e.jsx("label",{className:"ml-2 text-sm font-medium",children:"Enable Redundancy"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{onClick:o,className:"rounded bg-green-500 px-4 py-2 text-sm text-white hover:bg-green-600",children:"Update"}),e.jsx("button",{onClick:()=>a(!1),className:"rounded bg-gray-500 px-4 py-2 text-sm text-white hover:bg-gray-600",children:"Cancel"})]})]})]}):null,P=({canvasRef:t,devices:a,connections:s,simulationState:n,selectedDevice:i,connecting:o,handleMouseDown:r,handleMouseMove:l,handleMouseUp:c,startConnection:d,completeConnection:p,openDeviceConfig:u,removeDevice:h})=>e.jsxs("div",{ref:t,className:"relative overflow-hidden rounded-lg border-2 border-gray-300 bg-gray-50",style:{height:"500px"},onMouseMove:l,onMouseUp:c,onMouseLeave:c,children:[e.jsx("svg",{className:"pointer-events-none absolute inset-0 h-full w-full",children:s.map(t=>{const s=a.find(e=>e.id===t.sourceId),i=a.find(e=>e.id===t.targetId);if(!s||!i)return null;const o=n.trafficFlows.some(e=>e.connectionIds.includes(t.id));return e.jsxs("g",{children:[e.jsx("line",{x1:s.position.x+40,y1:s.position.y+40,x2:i.position.x+40,y2:i.position.y+40,stroke:o?"#3b82f6":"#9ca3af",strokeWidth:o?3:2,strokeDasharray:o?"5,5":"0",className:o?"animate-pulse":""}),e.jsx("text",{x:(s.position.x+i.position.x)/2+40,y:(s.position.y+i.position.y)/2+30,className:"fill-gray-600 text-xs",textAnchor:"middle",children:t.bandwidth})]},t.id)})}),a.map(t=>e.jsxs("div",{className:`absolute flex h-20 w-20 cursor-move flex-col items-center justify-center rounded-lg border-2 text-center shadow-md transition-all ${j(t.status)} ${i===t.id?"ring-4 ring-blue-500":""} ${o===t.id?"ring-4 ring-green-500":""}`,style:{left:`${t.position.x}px`,top:`${t.position.y}px`},onMouseDown:e=>r(t.id,e),onClick:e=>{e.stopPropagation(),o&&o!==t.id&&p(t.id)},children:[e.jsx("div",{className:"text-2xl",children:C(t.type)}),e.jsx("div",{className:"w-full truncate px-1 text-xs font-medium",children:t.name}),void 0!==t.currentLoad&&t.currentLoad>0&&e.jsx("div",{className:"absolute bottom-1 left-1 right-1 h-1 rounded bg-gray-200",children:e.jsx("div",{className:"h-full rounded "+(t.currentLoad>90?"bg-red-500":t.currentLoad>70?"bg-yellow-500":"bg-green-500"),style:{width:`${t.currentLoad}%`}})}),e.jsx("button",{className:"absolute -right-2 -top-2 h-6 w-6 rounded-full bg-blue-500 text-xs text-white hover:bg-blue-600",onClick:e=>{e.stopPropagation(),d(t.id)},title:"Create connection",children:"ðŸ”—"}),e.jsx("button",{className:"absolute bottom-1 right-1 h-5 w-5 rounded-full bg-indigo-500 text-xs text-white hover:bg-indigo-600",onClick:e=>{e.stopPropagation(),u(t.id)},title:"Configure device",children:"âš™"}),e.jsx("button",{className:"absolute -left-2 -top-2 h-6 w-6 rounded-full bg-red-500 text-xs text-white hover:bg-red-600",onClick:e=>{e.stopPropagation(),h(t.id)},title:"Delete device",children:"Ã—"})]},t.id)),o&&e.jsx("div",{className:"absolute left-2 top-2 rounded border border-green-500 bg-green-100 px-3 py-1 text-sm",children:"Click on another device to connect"})]}),I=({simulationState:t,devices:a,connections:s,selectedDeviceData:n})=>e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded bg-gray-50 p-4",children:[e.jsx("h3",{className:"mb-2 font-semibold",children:"Simulation Stats"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:["Time: ",t.time,"s"]}),e.jsxs("p",{children:["Devices: ",a.length]}),e.jsxs("p",{children:["Connections: ",s.length]}),e.jsxs("p",{children:["Active Flows: ",t.trafficFlows.length]})]})]}),e.jsxs("div",{className:"rounded bg-gray-50 p-4",children:[e.jsx("h3",{className:"mb-2 font-semibold",children:"Device Details"}),n?e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsx("p",{className:"font-medium",children:n.name}),e.jsxs("p",{children:["Type: ",n.type]}),e.jsxs("p",{children:["Status: ",n.status]}),e.jsxs("p",{children:["Load: ",n.currentLoad?.toFixed(1),"%"]}),e.jsxs("p",{children:["Throughput: ",n.specs.throughput]}),e.jsxs("p",{children:["Connections: ",n.connections.length]})]}):e.jsx("p",{className:"text-sm text-gray-500",children:"Select a device to view details"})]}),e.jsxs("div",{className:"rounded bg-gray-50 p-4",children:[e.jsx("h3",{className:"mb-2 font-semibold",children:"Alerts"}),e.jsx("div",{className:"max-h-24 space-y-1 overflow-y-auto text-sm",children:t.alerts.length>0?t.alerts.map(t=>e.jsx("div",{className:"rounded p-2 "+("critical"===t.severity?"bg-red-100 text-red-800":"warning"===t.severity?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:t.message},t.id)):e.jsx("p",{className:"text-gray-500",children:"No alerts"})})]})]}),M=()=>e.jsxs("div",{className:"mt-4 rounded bg-blue-50 p-4",children:[e.jsx("h4",{className:"mb-2 text-sm font-semibold",children:"ðŸ’¡ How to use:"}),e.jsxs("ul",{className:"list-inside list-disc space-y-1 text-sm text-gray-700",children:[e.jsx("li",{children:"Click device type buttons to add devices to the canvas"}),e.jsx("li",{children:"Drag devices to reposition them"}),e.jsx("li",{children:"Click the ðŸ”— button on a device, then click another device to create a connection"}),e.jsx("li",{children:"Click Start Simulation to see traffic flows and device loads"}),e.jsx("li",{children:"Watch for alerts when devices become overloaded"})]})]}),A=Object.freeze(Object.defineProperty({__proto__:null,default:({initialDevices:a=[]})=>{const[s,n]=t.useState(a),[o,r]=t.useState([]),[l,c]=t.useState(!1),{simulationState:d,toggleSimulation:p,resetSimulation:u}=f(s,o,n),{selectedDevice:h,setSelectedDevice:m,showConfigPanel:g,setShowConfigPanel:x,deviceConfig:y,setDeviceConfig:v,addDevice:w,removeDevice:C,openDeviceConfig:j,updateDeviceConfig:A}=function(e,a,s,n){const[o,r]=t.useState(null),[l,c]=t.useState(!1),[d,p]=t.useState(null),u=t.useCallback(t=>{const s={id:`device-${Date.now()}`,name:`${t.charAt(0).toUpperCase()+t.slice(1)} ${e.length+1}`,type:t,category:"physical",position:{x:100+50*e.length%500,y:100+100*Math.floor(e.length/10)},specs:i[t]?.defaultSpecs||{throughput:"1 Gbps",maxConnections:1e3,powerConsumption:"50W",redundancy:!1,hotSwappable:!1},status:"active",connections:[],currentLoad:0,maxLoad:100};a([...e,s])},[e,a]),h=t.useCallback(t=>{const i=s.filter(e=>e.sourceId!==t&&e.targetId!==t);n(i),a(e.filter(e=>e.id!==t)),o===t&&r(null)},[s,e,o,n,a]),m=t.useCallback(t=>{const a=e.find(e=>e.id===t);a&&(p({name:a.name,throughput:a.specs.throughput,maxConnections:a.specs.maxConnections,redundancy:a.specs.redundancy}),r(t),c(!0))},[e]);return{selectedDevice:o,setSelectedDevice:r,showConfigPanel:l,setShowConfigPanel:c,deviceConfig:d,setDeviceConfig:p,addDevice:u,removeDevice:h,openDeviceConfig:m,updateDeviceConfig:()=>{o&&d&&(a(e=>e.map(e=>e.id===o?{...e,name:d.name,specs:{...e.specs,throughput:d.throughput,maxConnections:d.maxConnections,redundancy:d.redundancy}}:e)),c(!1))}}}(s,n,o,r),{connecting:G,startConnection:L,completeConnection:R}=function(e,a,s){const[n,i]=t.useState(null);return{connecting:n,startConnection:e=>{i(n===e?null:e)},completeConnection:t=>{if(n&&n!==t){if(!e.some(e=>e.sourceId===n&&e.targetId===t||e.sourceId===t&&e.targetId===n)){const i={id:`conn-${Date.now()}`,sourceId:n,targetId:t,type:"ethernet",bandwidth:"1 Gbps",latency:1,trafficLoad:0};a([...e,i]),s(e=>e.map(e=>e.id===n||e.id===t?{...e,connections:[...e.connections,i.id]}:e))}i(null)}else i(null)}}}(o,r,n),{canvasRef:E,handleMouseDown:B,handleMouseMove:F,handleMouseUp:Y}=function(e,a,s){const n=t.useRef(null),[i,o]=t.useState(null),r=t.useCallback(t=>{if(!i||!n.current)return;const a=n.current.getBoundingClientRect(),s=t.clientX-a.left,o=t.clientY-a.top;e(e=>e.map(e=>e.id===i?{...e,position:{x:Math.max(0,Math.min(s,a.width-80)),y:Math.max(0,Math.min(o,a.height-80))}}:e))},[i,e]),l=t.useCallback(()=>{o(null)},[]);return{canvasRef:n,dragging:i,handleMouseDown:(e,t)=>{t.stopPropagation(),s||(o(e),a(e))},handleMouseMove:r,handleMouseUp:l}}(n,m,G),{handleKeyDown:W}=function(e,a,s,n,i,o){return{handleKeyDown:t.useCallback(t=>{if(!e){if("Tab"===t.key&&a.length>0){t.preventDefault();const n=(a.findIndex(t=>t.id===e)+1)%a.length;s(a[n].id)}return}const r=a.find(t=>t.id===e);if(r){if(t.key.startsWith("Arrow")){t.preventDefault();const a=t.shiftKey?10:1;let s=r.position.x,i=r.position.y;"ArrowLeft"===t.key?s-=a:"ArrowRight"===t.key?s+=a:"ArrowUp"===t.key?i-=a:"ArrowDown"===t.key&&(i+=a),n(t=>t.map(t=>t.id===e?{...t,position:{x:Math.max(0,Math.min(s,720)),y:Math.max(0,Math.min(i,420))}}:t))}if("Tab"===t.key){t.preventDefault();const n=a.findIndex(t=>t.id===e),i=t.shiftKey?(n-1+a.length)%a.length:(n+1)%a.length;s(a[i].id)}"Enter"===t.key&&(t.preventDefault(),i(e)),"Delete"===t.key&&(t.preventDefault(),o(e)),"Escape"===t.key&&(t.preventDefault(),s(null))}},[e,a,s,n,i,o])}}(h,s,m,n,j,C),{savedNetworks:$,showSaveDialog:q,setShowSaveDialog:T,saveNetworkDesign:V,loadNetworkDesign:U,deleteNetworkDesign:O}=b(n,r,u),H=[{id:"scenario-1",name:"Network Bottleneck",description:"Identify and resolve a single point of failure",setup:()=>{const e={id:"router-main",name:"Main Router",type:"router",category:"physical",position:{x:250,y:100},specs:{throughput:"100 Mbps",maxConnections:1e3,powerConsumption:"50W",redundancy:!1,hotSwappable:!1},status:"active",connections:[],currentLoad:0,maxLoad:100},t=Array.from({length:3},(e,t)=>({id:`switch-${t}`,name:`Switch ${t+1}`,type:"switch",category:"physical",position:{x:100+150*t,y:250},specs:{throughput:"1 Gbps",maxConnections:500,powerConsumption:"30W",redundancy:!1,hotSwappable:!1},status:"active",connections:[],currentLoad:0,maxLoad:100}));return{devices:[e,...t],connections:t.map(t=>({id:`conn-${t.id}`,sourceId:e.id,targetId:t.id,type:"ethernet",bandwidth:"100 Mbps",latency:1,trafficLoad:0}))}},expectedIssue:"The main router is a single point of failure",hint:"Consider adding a backup router with redundancy enabled"},{id:"scenario-2",name:"Overloaded Device",description:"Handle excessive traffic on a network device",setup:()=>{const e={id:"router-overload",name:"Core Router",type:"router",category:"physical",position:{x:250,y:100},specs:{throughput:"100 Mbps",maxConnections:500,powerConsumption:"50W",redundancy:!1,hotSwappable:!1},status:"active",connections:[],currentLoad:85,maxLoad:100},t={id:"server-main",name:"Web Server",type:"switch",category:"physical",position:{x:100,y:250},specs:{throughput:"1 Gbps",maxConnections:1e3,powerConsumption:"100W",redundancy:!1,hotSwappable:!1},status:"active",connections:[],currentLoad:90,maxLoad:100};return{devices:[e,t],connections:[{id:"conn-overload",sourceId:e.id,targetId:t.id,type:"ethernet",bandwidth:"100 Mbps",latency:2,trafficLoad:95}]}},expectedIssue:"Devices are operating near maximum capacity",hint:"Consider upgrading throughput or adding load balancing"},{id:"scenario-3",name:"Redundancy Setup",description:"Design a redundant network architecture",setup:()=>{const e={id:"fw-primary",name:"Firewall Primary",type:"firewall-stateful",category:"physical",position:{x:150,y:100},specs:{throughput:"500 Mbps",maxConnections:5e3,powerConsumption:"75W",redundancy:!0,hotSwappable:!1},status:"active",connections:[],currentLoad:0,maxLoad:100},t={id:"fw-secondary",name:"Firewall Secondary",type:"firewall-stateful",category:"physical",position:{x:350,y:100},specs:{throughput:"500 Mbps",maxConnections:5e3,powerConsumption:"75W",redundancy:!0,hotSwappable:!1},status:"active",connections:[],currentLoad:0,maxLoad:100},a={id:"switch-internal",name:"Internal Switch",type:"switch",category:"physical",position:{x:250,y:250},specs:{throughput:"1 Gbps",maxConnections:1e3,powerConsumption:"30W",redundancy:!0,hotSwappable:!1},status:"active",connections:[],currentLoad:0,maxLoad:100};return{devices:[e,t,a],connections:[{id:"conn-primary",sourceId:e.id,targetId:a.id,type:"ethernet",bandwidth:"1 Gbps",latency:1,trafficLoad:0},{id:"conn-secondary",sourceId:t.id,targetId:a.id,type:"ethernet",bandwidth:"1 Gbps",latency:1,trafficLoad:0}]}},expectedIssue:"No single point of failure - good design",hint:"This is a recommended architecture for high availability"}],z=s.find(e=>e.id===h);return e.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",tabIndex:0,onKeyDown:W,role:"application","aria-label":"Network Architecture Simulator",children:[e.jsx(N,{addDevice:w,simulationState:d,toggleSimulation:p,resetSimulation:u,setShowScenarios:c,showScenarios:l,setShowSaveDialog:T,showSaveDialog:q,exportNetworkDesign:()=>{!function(e,t){const a={devices:e,connections:t,timestamp:(new Date).toISOString()},s=document.createElement("a");s.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(JSON.stringify(a,null,2))}`),s.setAttribute("download",`network-design-${Date.now()}.json`),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}(s,o)}}),e.jsx(S,{showScenarios:l,setShowScenarios:c,scenarios:H,loadScenario:e=>{const t=H.find(t=>t.id===e);if(t){const e=t.setup();n(e.devices),r(e.connections),u(),c(!1)}}}),e.jsx(k,{showSaveDialog:q,setShowSaveDialog:T,saveNetworkDesign:e=>V(e,s,o),savedNetworks:$,loadNetworkDesign:U,deleteNetworkDesign:O}),e.jsx(D,{showConfigPanel:g,setShowConfigPanel:x,selectedDeviceData:z,deviceConfig:y,setDeviceConfig:v,updateDeviceConfig:A}),e.jsx(P,{canvasRef:E,devices:s,connections:o,simulationState:d,selectedDevice:h,connecting:G,handleMouseDown:B,handleMouseMove:F,handleMouseUp:Y,startConnection:L,completeConnection:R,openDeviceConfig:j,removeDevice:C}),e.jsx(I,{simulationState:d,devices:s,connections:o,selectedDeviceData:z}),e.jsx(M,{})]})}},Symbol.toStringTag,{value:"Module"}));export{y as D,A as N};
