import{j as e}from"./ui-vendor-C0RbxujU.js";import{a as n,R as t}from"./react-vendor-jGr1bFq6.js";import{d as a,p as i}from"./three-drei-D0qgDob-.js";import{c as o}from"./state-vendor-Ij0BeMen.js";const s=[{id:"aws-hybrid-enterprise",title:"AWS Hybrid Enterprise Migration",provider:"AWS",description:"A large financial institution is migrating 40% of their workloads to AWS while maintaining critical systems on-premises due to regulatory requirements.\n\n    They need to establish a hybrid cloud architecture that provides secure, low-latency connectivity between their on-premises data center and AWS. The solution must support 500 internal users accessing both cloud and on-premises applications seamlessly.\n\n    Key requirements include: maintaining existing Active Directory infrastructure, implementing least-privilege access controls, ensuring data sovereignty compliance, and supporting burst capacity for end-of-month reporting workloads that can spike to 5x normal usage.\n\n    The architecture must include isolated network segments for different sensitivity levels (public-facing web tier, application tier, database tier) with appropriate security controls. They also need to implement network function virtualization for firewall and load balancing to reduce hardware costs.\n\n    The cloud environment will host SaaS applications (Salesforce, Office 365), custom PaaS applications (containerized microservices), and IaaS infrastructure (Windows/Linux VMs for legacy applications). Internet access from cloud resources must be controlled through centralized gateways with NAT functionality.",requirements:["Hybrid deployment maintaining on-premises infrastructure","Secure low-latency connectivity to AWS","Multi-tier network isolation","Elastic scaling for batch workloads","Centralized security controls","Network function virtualization","Multiple service models (SaaS/PaaS/IaaS)","Controlled internet access with NAT"],idealSolution:{deploymentModel:"Hybrid",deploymentJustification:"Regulatory requirements mandate on-premises data storage while cloud provides scalability",serviceModel:"PaaS",serviceExamples:["Containerized microservices on ECS/EKS","RDS managed databases","Legacy VMs on EC2"],connectivityMethod:"Direct Connect",connectivityReasoning:"Low-latency, high-bandwidth requirement for 500 users accessing both environments",nfvImplementation:"Virtual firewalls and load balancers replace physical appliances, reducing CapEx",vpcConfiguration:{subnets:["Public subnet for web tier","Private subnet for app tier","Isolated subnet for database tier"],securityGroups:["Web-SG (allow 80/443)","App-SG (allow from Web-SG)","DB-SG (allow from App-SG)"],networkLists:["Allow on-premises CIDR","Deny all other traffic"]},cloudGateways:{internetGateway:!0,natGateway:!0,usage:"IGW for public subnet inbound; NAT Gateway for private subnet outbound internet"},scalabilityFeatures:{type:"Auto",description:"Auto Scaling Groups respond to CloudWatch metrics",triggers:["CPU > 70%","Queue depth > 1000","Scheduled (end-of-month)"]},elasticityImplementation:"Auto Scaling policies automatically add/remove instances; Lambda for serverless burst capacity",multitenancyConsiderations:["VPC isolation per department","IAM role separation","Separate AWS accounts per business unit"]}},{id:"azure-saas-startup",title:"Azure SaaS Startup Platform",provider:"Azure",description:"A SaaS startup is building a multi-tenant customer relationship management (CRM) platform on Azure. They expect rapid growth from 10 to 10,000 customers within 18 months and need an architecture that scales efficiently.\n\n    The platform must provide complete tenant isolation for data security and compliance. Each customer's data must be logically separated with no risk of cross-tenant data leakage. The application tier will use Azure App Service (PaaS) for hosting the web application and APIs.\n\n    They require a public cloud deployment to minimize upfront infrastructure costs and leverage Azure's global presence for low-latency access worldwide. Connectivity will be through standard internet connections with SSL/TLS encryption.\n\n    The architecture needs to implement virtual network functions for traffic management, including Azure Application Gateway for SSL termination and Web Application Firewall for security. Azure VNets must be configured with network security groups to control traffic between application tiers.\n\n    Scalability is critical - the platform must automatically scale from 10 concurrent users to 100,000+ during peak hours. This requires elastic compute (App Service auto-scale), elastic storage (Azure SQL elastic pools), and elastic networking (Azure Load Balancer).",requirements:["Public cloud deployment for global reach","PaaS services for reduced management overhead","Multi-tenant data isolation","Automatic scaling 10x-1000x","Virtual network security controls","SSL/TLS encrypted connectivity","WAF and application-level security","Cost optimization for startup budget"],idealSolution:{deploymentModel:"Public",deploymentJustification:"Minimize CapEx; leverage global Azure infrastructure; pay-as-you-grow OpEx model",serviceModel:"SaaS",serviceExamples:["Azure App Service for web app","Azure SQL Database elastic pools","Azure AD B2C for authentication"],connectivityMethod:"VPN",connectivityReasoning:"Internet-based access sufficient for SaaS; VPN for admin access to management plane",nfvImplementation:"Azure Application Gateway (virtual ADC), Azure Firewall, Traffic Manager (virtual load balancer)",vpcConfiguration:{subnets:["Frontend subnet for App Gateway","Backend subnet for App Service","Data subnet for SQL"],securityGroups:["Frontend-NSG (allow 443)","Backend-NSG (allow from Frontend)","Data-NSG (allow from Backend)"],networkLists:["Allow Azure Load Balancer probes","Allow Azure infrastructure services"]},cloudGateways:{internetGateway:!0,natGateway:!1,usage:"Internet Gateway for inbound HTTPS traffic; App Service has outbound internet access by default"},scalabilityFeatures:{type:"Auto",description:"App Service Plan auto-scale based on HTTP queue length and CPU",triggers:["HTTP queue > 100","CPU > 75%","Memory > 80%"]},elasticityImplementation:"Automatic scale-out/in based on metrics; SQL elastic pools share resources across tenants; CDN for static content",multitenancyConsiderations:["Row-level security in SQL for tenant isolation","Separate App Service instances per tier","Azure AD tenant separation","Encryption at rest with customer-managed keys"]}},{id:"gcp-ml-research",title:"GCP Machine Learning Research Platform",provider:"GCP",description:"A university research department is building a machine learning platform on Google Cloud Platform for analyzing genomic data. The platform needs to process massive datasets (petabytes) with bursty compute requirements.\n\n    The deployment is purely public cloud to leverage GCP's specialized AI/ML hardware (TPUs) and managed services. Researchers will use IaaS (Compute Engine VMs with GPUs), PaaS (Cloud AI Platform for training), and SaaS (BigQuery for data warehousing).\n\n    Security is critical due to HIPAA compliance requirements for genomic data. The VPC must implement strict network isolation with private IP addressing and no direct internet access for compute resources. A Cloud NAT gateway will provide outbound internet for package downloads.\n\n    Connectivity for researchers will use Cloud VPN for secure access from campus, with Direct Connect (Dedicated Interconnect) planned for transferring large datasets from on-premises sequencing equipment.\n\n    The platform must scale horizontally from 10 VMs to 1,000+ VMs when training large models, then scale back to zero during idle periods to minimize costs. Network function virtualization will implement virtual firewalls for compliance controls and virtual load balancers for distributed training workloads.",requirements:["Public cloud for AI/ML specialized hardware","IaaS with GPU/TPU support","HIPAA-compliant network isolation","Burst scaling 0-1000+ VMs","Secure campus connectivity","Private networking with controlled internet","Virtual security appliances","Cost optimization during idle periods"],idealSolution:{deploymentModel:"Public",deploymentJustification:"Access to TPU/GPU hardware unavailable on-premises; elastic scaling for bursty workloads",serviceModel:"IaaS",serviceExamples:["Compute Engine VMs with A100 GPUs","Cloud AI Platform for distributed training","BigQuery for analytics"],connectivityMethod:"Direct Connect",connectivityReasoning:"Dedicated Interconnect required for multi-TB dataset transfers from sequencing equipment",nfvImplementation:"Virtual firewalls enforce HIPAA controls; virtual load balancers distribute training across GPU clusters",vpcConfiguration:{subnets:["Private subnet for compute (no external IPs)","Management subnet for admin access","Data subnet for Cloud Storage"],securityGroups:["Compute-FW (deny all inbound)","Management-FW (allow VPN only)","Data-FW (allow from Compute)"],networkLists:["Allow campus VPN subnet","Allow Google API ranges","Deny internet"]},cloudGateways:{internetGateway:!1,natGateway:!0,usage:"Cloud NAT for outbound package downloads; no inbound internet access"},scalabilityFeatures:{type:"Horizontal",description:"Managed Instance Groups scale VM count based on training queue depth",triggers:["Job queue > 0 (scale to 1000)","Job queue = 0 (scale to 0)","Training completion (deallocate)"]},elasticityImplementation:"Preemptible VMs reduce costs; auto-scaling to zero during idle; Cloud Functions trigger VM creation on data arrival",multitenancyConsiderations:["Separate projects per research team","VPC Service Controls for data perimeter","Encryption with customer-supplied keys","Audit logging for compliance"]}},{id:"multicloud-disaster-recovery",title:"Multi-Cloud Disaster Recovery Strategy",provider:"Multi-Cloud",description:"A healthcare provider is implementing a disaster recovery strategy across AWS (primary) and Azure (DR site) to meet 99.99% uptime SLA requirements.\n\n    The primary production environment runs on AWS with a hybrid deployment model - patient records on-premises (compliance), application tier in AWS. The DR site on Azure must maintain synchronized copies of critical data and be able to activate within 15 minutes (RTO) with maximum 5 minutes of data loss (RPO).\n\n    The architecture uses IaaS in both clouds to maintain application compatibility and simplify failover. Virtual network functions (virtual firewalls, load balancers) must be pre-deployed in both environments with identical configurations.\n\n    Cross-cloud connectivity uses VPN tunnels between AWS VPC and Azure VNet, with Direct Connect to on-premises from AWS and ExpressRoute from Azure. This provides multiple redundant paths.\n\n    The VPC configuration must mirror security controls across both clouds - same segmentation, same security group rules, same network ACLs. Cloud gateways are configured identically with internet gateways for public web tier and NAT gateways for private tier outbound access.\n\n    Scalability is designed for normal loads with ability to burst during failover scenarios. Elasticity features include auto-scaling groups pre-configured but scaled to minimum capacity in DR site until activation.",requirements:["Multi-cloud deployment (AWS + Azure)","Hybrid on-premises integration","15-minute RTO, 5-minute RPO","Identical security controls across clouds","Redundant connectivity paths","Pre-deployed DR infrastructure","Synchronized data replication","Cost-optimized DR site (minimal capacity)"],idealSolution:{deploymentModel:"Hybrid",deploymentJustification:"On-premises for compliance; multi-cloud for disaster recovery resilience",serviceModel:"IaaS",serviceExamples:["AWS EC2 and Azure VMs for application compatibility","AWS RDS and Azure SQL for databases","Cross-region replication"],connectivityMethod:"Direct Connect",connectivityReasoning:"AWS Direct Connect + Azure ExpressRoute provide redundant low-latency paths; VPN as backup",nfvImplementation:"Identical virtual firewall configs in AWS and Azure; virtual load balancers with synchronized rules",vpcConfiguration:{subnets:["Public-DMZ (mirrored AWS/Azure)","Private-App (mirrored)","Private-Data (mirrored)"],securityGroups:["Web-SG (identical rules)","App-SG (identical rules)","DB-SG (identical rules)"],networkLists:["Mirror of on-premises allowed ranges","Cross-cloud VPN subnets"]},cloudGateways:{internetGateway:!0,natGateway:!0,usage:"Mirrored configuration: IGW for public tier, NAT Gateway for private tier outbound"},scalabilityFeatures:{type:"Auto",description:"DR site pre-scaled to minimum; auto-scale to production capacity on failover",triggers:["Failover event (scale DR to 100%)","Health check failures (trigger failover)","Manual activation"]},elasticityImplementation:"DR site runs minimal instances (20% capacity); automation scales to 100% within RTO; post-failback scales down",multitenancyConsiderations:["Separate AWS accounts for prod/DR","Separate Azure subscriptions","Identical IAM/RBAC policies","Cross-cloud encryption key management"]}},{id:"aws-gaming-platform",title:"AWS Global Gaming Platform",provider:"AWS",description:"A game development studio is launching a multiplayer online game with expected 1 million concurrent players worldwide. The platform must provide low-latency gameplay (< 50ms) for players across North America, Europe, and Asia-Pacific.\n\n    The deployment is public cloud only, using AWS global infrastructure with regional deployments in us-east-1, eu-west-1, and ap-southeast-1. The service model is primarily PaaS (Elastic Container Service for game servers, DynamoDB for player data, ElastiCache for session state) with some IaaS (EC2 for matchmaking servers).\n\n    Connectivity for players is through standard internet connections with optimized routing via AWS Global Accelerator. Game servers communicate with each other across regions using VPC peering with encryption in transit.\n\n    The VPC architecture implements network segmentation: public subnets for Application Load Balancers (internet-facing), private subnets for ECS game servers (no public IPs), and isolated subnets for databases. Network function virtualization includes AWS Network Firewall for DDoS protection and traffic inspection.\n\n    Scalability is critical - the platform must handle launch day spikes (10x normal capacity) and scale based on player count. Each region must independently scale while maintaining cross-region player data consistency. Elasticity features include ECS Service Auto Scaling based on CPU/memory and custom metrics (player count per server).\n\n    Multitenancy considerations include isolating game sessions in separate ECS tasks, implementing rate limiting per player, and using separate DynamoDB tables per region with global tables for cross-region replication.",requirements:["Public cloud with global regional presence","Low-latency gameplay (< 50ms)","PaaS for containerized game servers","Launch day scaling (10x capacity)","Cross-region data replication","DDoS protection and traffic inspection","Session isolation per player","Cost optimization post-launch"],idealSolution:{deploymentModel:"Public",deploymentJustification:"Global AWS presence provides low-latency access; elastic scaling for unpredictable player counts",serviceModel:"PaaS",serviceExamples:["ECS Fargate for game servers","DynamoDB Global Tables for player data","ElastiCache Redis for sessions","S3 for game assets"],connectivityMethod:"Internet Gateway",connectivityReasoning:"Players connect via internet; AWS Global Accelerator optimizes routing; VPC peering for inter-region",nfvImplementation:"AWS Network Firewall for DDoS mitigation; Application Load Balancer for L7 routing; NAT Gateway for outbound",vpcConfiguration:{subnets:["Public (ALB in 3 AZs)","Private-App (ECS in 3 AZs)","Private-Data (DynamoDB VPC endpoints)","Isolated-Cache (ElastiCache)"],securityGroups:["ALB-SG (allow 443, 80, UDP game ports)","ECS-SG (allow from ALB)","Cache-SG (allow from ECS)","DB-SG (allow from ECS)"],networkLists:["Allow all player IPs","Rate limit per source IP","Block known malicious ranges"]},cloudGateways:{internetGateway:!0,natGateway:!0,usage:"IGW for ALB inbound player traffic; NAT Gateway for ECS outbound (patches, telemetry)"},scalabilityFeatures:{type:"Auto",description:"ECS Service Auto Scaling based on target tracking and step policies",triggers:["CPU > 70% (scale out)","Custom metric: players per server > 100","Launch event (pre-scale)","Post-launch (scale in)"]},elasticityImplementation:"Target tracking auto-scaling maintains optimal player density; scheduled scaling for daily peaks; spot instances for cost optimization",multitenancyConsiderations:["Separate ECS task per game session","DynamoDB partition key by player ID","Rate limiting via API Gateway","Separate CloudWatch log groups per region"]}}],r=[{type:"deployment-zone",subtype:"Public Cloud",name:"Public Cloud Zone",description:"Multi-tenant cloud infrastructure operated by third-party provider (AWS, Azure, GCP)",icon:"â˜ï¸",color:"#3B82F6",defaultWidth:300,defaultHeight:400,allowedConnections:["connectivity","service-layer","gateway"],properties:[{key:"provider",label:"Cloud Provider",type:"select",options:["AWS","Azure","GCP","Oracle Cloud"],required:!0},{key:"region",label:"Region",type:"text",default:"us-east-1"},{key:"availabilityZones",label:"Availability Zones",type:"number",default:3}]},{type:"deployment-zone",subtype:"Private Cloud",name:"Private Cloud Zone",description:"Dedicated cloud infrastructure for single organization (on-premises or hosted)",icon:"ðŸ¢",color:"#8B5CF6",defaultWidth:300,defaultHeight:400,allowedConnections:["connectivity","service-layer","gateway"],properties:[{key:"location",label:"Location",type:"select",options:["On-Premises","Hosted Private","Colo"],required:!0},{key:"hypervisor",label:"Hypervisor",type:"select",options:["VMware","Hyper-V","KVM","Proxmox"]},{key:"complianceLevel",label:"Compliance",type:"select",options:["HIPAA","PCI-DSS","FedRAMP","None"]}]},{type:"deployment-zone",subtype:"Hybrid Zone",name:"Hybrid Cloud Connector",description:"Bridge between public and private cloud environments",icon:"ðŸ”—",color:"#10B981",defaultWidth:150,defaultHeight:200,allowedConnections:["deployment-zone","connectivity"],properties:[{key:"orchestration",label:"Orchestration Platform",type:"select",options:["VMware Cloud","Azure Arc","Anthos","Custom"]},{key:"workloadType",label:"Workload Distribution",type:"select",options:["Data Locality","Burst to Cloud","DR/Backup","Compliance Split"]}]},{type:"service-layer",subtype:"SaaS Application",name:"SaaS Application",description:"Software as a Service - fully managed applications (Salesforce, Office 365)",icon:"ðŸ“±",color:"#EF4444",defaultWidth:200,defaultHeight:100,allowedConnections:["deployment-zone","connectivity","gateway"],properties:[{key:"application",label:"Application Type",type:"select",options:["CRM","Email","Collaboration","Analytics","Custom"]},{key:"licensing",label:"Licensing Model",type:"select",options:["Per User","Per Feature","Consumption","Enterprise"]},{key:"multitenancy",label:"Tenancy Model",type:"select",options:["Shared","Dedicated Instance","Private Tenant"]}]},{type:"service-layer",subtype:"PaaS Platform",name:"PaaS Platform",description:"Platform as a Service - managed runtime environments (App Service, Cloud Run)",icon:"âš™ï¸",color:"#F59E0B",defaultWidth:200,defaultHeight:100,allowedConnections:["deployment-zone","vpc-element","nfv-component"],properties:[{key:"runtime",label:"Runtime",type:"select",options:["Containers","Serverless","Web App","API Platform"]},{key:"scaling",label:"Auto-Scaling",type:"boolean",default:!0},{key:"instances",label:"Instance Count",type:"number",default:2}]},{type:"service-layer",subtype:"IaaS Infrastructure",name:"IaaS Infrastructure",description:"Infrastructure as a Service - virtual machines and storage (EC2, Compute Engine)",icon:"ðŸ–¥ï¸",color:"#6366F1",defaultWidth:200,defaultHeight:100,allowedConnections:["deployment-zone","vpc-element","nfv-component"],properties:[{key:"instanceType",label:"Instance Type",type:"select",options:["General Purpose","Compute Optimized","Memory Optimized","GPU"]},{key:"os",label:"Operating System",type:"select",options:["Linux","Windows","Container OS"]},{key:"storage",label:"Storage Type",type:"select",options:["SSD","HDD","NVMe","Network Storage"]}]},{type:"connectivity",subtype:"VPN Tunnel",name:"VPN Tunnel",description:"Site-to-site VPN for encrypted connectivity over internet",icon:"ðŸ”",color:"#14B8A6",defaultWidth:150,defaultHeight:80,allowedConnections:["deployment-zone","gateway"],properties:[{key:"encryption",label:"Encryption",type:"select",options:["IPSec","SSL/TLS","WireGuard"],default:"IPSec"},{key:"bandwidth",label:"Bandwidth (Mbps)",type:"number",default:100},{key:"redundancy",label:"Redundant Tunnel",type:"boolean",default:!1}]},{type:"connectivity",subtype:"Direct Connect Link",name:"Direct Connect Link",description:"Dedicated private connection (AWS Direct Connect, Azure ExpressRoute)",icon:"âš¡",color:"#F97316",defaultWidth:150,defaultHeight:80,allowedConnections:["deployment-zone","deployment-zone"],properties:[{key:"speed",label:"Port Speed",type:"select",options:["1 Gbps","10 Gbps","100 Gbps"],default:"10 Gbps"},{key:"provider",label:"Provider Type",type:"select",options:["Direct","Partner","Hosted"]},{key:"vlan",label:"VLAN Count",type:"number",default:1}]},{type:"connectivity",subtype:"Internet Connection",name:"Internet Connection",description:"Public internet connectivity",icon:"ðŸŒ",color:"#06B6D4",defaultWidth:150,defaultHeight:80,allowedConnections:["gateway","service-layer"],properties:[{key:"security",label:"Security",type:"multiselect",options:["TLS","WAF","DDoS Protection","CDN"]},{key:"bandwidth",label:"Expected Bandwidth",type:"text",default:"Best effort"}]},{type:"vpc-element",subtype:"Subnet",name:"VPC Subnet",description:"Isolated network segment within VPC",icon:"ðŸ“¦",color:"#84CC16",defaultWidth:180,defaultHeight:120,allowedConnections:["service-layer","nfv-component","gateway"],properties:[{key:"cidr",label:"CIDR Block",type:"text",default:"10.0.1.0/24",required:!0},{key:"type",label:"Subnet Type",type:"select",options:["Public","Private","Isolated"]},{key:"az",label:"Availability Zone",type:"text"}]},{type:"vpc-element",subtype:"Security Group",name:"Security Group",description:"Stateful firewall rules for resources",icon:"ðŸ›¡ï¸",color:"#DC2626",defaultWidth:160,defaultHeight:100,allowedConnections:["service-layer","vpc-element"],properties:[{key:"inboundRules",label:"Inbound Rules",type:"text",default:"Allow 443 from 0.0.0.0/0"},{key:"outboundRules",label:"Outbound Rules",type:"text",default:"Allow all"},{key:"stateful",label:"Stateful",type:"boolean",default:!0}]},{type:"vpc-element",subtype:"Network List",name:"Network ACL",description:"Stateless subnet-level access control list",icon:"ðŸ“‹",color:"#7C3AED",defaultWidth:160,defaultHeight:100,allowedConnections:["vpc-element"],properties:[{key:"rules",label:"Rule Count",type:"number",default:5},{key:"defaultAction",label:"Default Action",type:"select",options:["Deny","Allow"],default:"Deny"}]},{type:"gateway",subtype:"Internet Gateway",name:"Internet Gateway",description:"Allows VPC resources to access internet",icon:"ðŸšª",color:"#0EA5E9",defaultWidth:140,defaultHeight:90,allowedConnections:["vpc-element","connectivity"],properties:[{key:"publicIPs",label:"Public IP Allocation",type:"boolean",default:!0},{key:"ipv6",label:"IPv6 Support",type:"boolean",default:!1}]},{type:"gateway",subtype:"NAT Gateway",name:"NAT Gateway",description:"Enables outbound internet for private subnets",icon:"ðŸ”„",color:"#EC4899",defaultWidth:140,defaultHeight:90,allowedConnections:["vpc-element","gateway"],properties:[{key:"highAvailability",label:"HA Deployment",type:"boolean",default:!1},{key:"bandwidth",label:"Bandwidth (Gbps)",type:"select",options:["5","10","45","100"],default:"5"}]},{type:"nfv-component",subtype:"Virtual Router",name:"Virtual Router",description:"Software-defined routing for cloud networks",icon:"ðŸ”€",color:"#A855F7",defaultWidth:140,defaultHeight:90,allowedConnections:["vpc-element","connectivity"],properties:[{key:"routingProtocol",label:"Routing Protocol",type:"select",options:["BGP","OSPF","Static","Policy-Based"]},{key:"throughput",label:"Throughput (Gbps)",type:"number",default:10}]},{type:"nfv-component",subtype:"Virtual Firewall",name:"Virtual Firewall",description:"Software-based network security appliance",icon:"ðŸ”¥",color:"#EF4444",defaultWidth:140,defaultHeight:90,allowedConnections:["vpc-element","service-layer"],properties:[{key:"features",label:"Features",type:"multiselect",options:["IPS","DPI","URL Filtering","Malware Protection"]},{key:"mode",label:"Deployment Mode",type:"select",options:["Inline","Monitor","Tap"],default:"Inline"}]},{type:"nfv-component",subtype:"Virtual Load Balancer",name:"Virtual Load Balancer",description:"Software load balancer for traffic distribution",icon:"âš–ï¸",color:"#22C55E",defaultWidth:140,defaultHeight:90,allowedConnections:["vpc-element","service-layer"],properties:[{key:"algorithm",label:"Algorithm",type:"select",options:["Round Robin","Least Connections","IP Hash","Weighted"],default:"Round Robin"},{key:"healthCheck",label:"Health Check Interval",type:"number",default:30},{key:"sslOffload",label:"SSL Offloading",type:"boolean",default:!0}]}],l={internetAccess:{rule:"Public subnets must have Internet Gateway for inbound access",check:e=>{const n=e.filter(e=>"vpc-element"===e.type&&"Subnet"===e.subtype&&"Public"===e.properties?.type),t=e.filter(e=>"Internet Gateway"===e.subtype);return n.length>0&&0===t.length?{valid:!1,message:"Public subnets require Internet Gateway"}:{valid:!0}}},natGatewayPlacement:{rule:"NAT Gateway must be in public subnet",check:e=>({valid:!0})},securityGroupCoverage:{rule:"All service layers should have security group protection",check:e=>{const n=e.filter(e=>"service-layer"===e.type),t=e.filter(e=>"Security Group"===e.subtype);return n.length>0&&0===t.length?{valid:!1,message:"Service layers should be protected by security groups"}:{valid:!0}}},connectivityRequired:{rule:"Hybrid deployments require connectivity components",check:e=>{const n=e.filter(e=>"Hybrid Zone"===e.subtype),t=e.filter(e=>"connectivity"===e.type);return n.length>0&&0===t.length?{valid:!1,message:"Hybrid deployments need VPN or Direct Connect"}:{valid:!0}}}},c=e=>{const[t,a]=n.useState(e),[i,o]=n.useState({vpcConfiguration:{subnets:[],securityGroups:[],networkLists:[]},cloudGateways:{internetGateway:!1,natGateway:!1,usage:""},scalabilityFeatures:{type:"Auto",description:"",triggers:[]},serviceExamples:[],multitenancyConsiderations:[]}),[s,r]=n.useState(null),[l,c]=n.useState(0),[d,p]=n.useState(!1);n.useEffect(()=>{const e=[(n=i).deploymentJustification||"",n.connectivityReasoning||"",n.nfvImplementation||"",n.cloudGateways?.usage||"",n.scalabilityFeatures?.description||"",n.elasticityImplementation||""].reduce((e,n)=>e+n.trim().split(/\s+/).filter(e=>e.length>0).length,0);var n;c(e)},[i]);const u=()=>{o({vpcConfiguration:{subnets:[],securityGroups:[],networkLists:[]},cloudGateways:{internetGateway:!1,natGateway:!1,usage:""},scalabilityFeatures:{type:"Auto",description:"",triggers:[]},serviceExamples:[],multitenancyConsiderations:[]}),r(null),p(!1)};return{selectedScenario:t,setSelectedScenario:a,userSummary:i,setUserSummary:o,score:s,wordCount:l,showIdealSolution:d,setShowIdealSolution:p,handleSubmit:()=>{const e=((e,n,t)=>{const a=[];let i=0,o=0,s=0;const r=n.idealSolution;let l=0;e.deploymentModel===r.deploymentModel?l++:a.push(`Deployment model should be ${r.deploymentModel}`),e.serviceModel===r.serviceModel?l++:a.push(`Service model should be ${r.serviceModel}`),e.connectivityMethod===r.connectivityMethod?l++:a.push(`Connectivity method should be ${r.connectivityMethod}`),e.cloudGateways?.internetGateway===r.cloudGateways.internetGateway&&l++,e.scalabilityFeatures?.type===r.scalabilityFeatures.type&&l++,i=l/5*40,t<=100?o=20:t<=150?(o=15,a.push(`Word count is ${t}. Aim for under 100 words for conciseness.`)):t<=200?(o=10,a.push(`Word count is ${t}. Too verbose - significantly reduce to under 100 words.`)):(o=5,a.push(`Word count is ${t}. Far too long - must be under 100 words.`));let c=0;e.deploymentJustification&&e.deploymentJustification.length>10?c++:a.push("Provide deployment model justification"),e.serviceExamples&&e.serviceExamples.length>0?c++:a.push("Include specific service examples"),e.connectivityReasoning&&e.connectivityReasoning.length>10?c++:a.push("Explain connectivity method reasoning"),e.nfvImplementation&&e.nfvImplementation.length>10?c++:a.push("Describe NFV implementation"),e.vpcConfiguration?.subnets&&e.vpcConfiguration.subnets.length>0?c++:a.push("Define VPC subnet configuration"),e.cloudGateways?.usage&&e.cloudGateways.usage.length>10?c++:a.push("Explain cloud gateway usage"),e.scalabilityFeatures?.description&&e.scalabilityFeatures.description.length>10?c++:a.push("Describe scalability features"),e.multitenancyConsiderations&&e.multitenancyConsiderations.length>0?c++:a.push("Address multitenancy considerations"),s=c/8*40;const d=Math.round(i+o+s);return d>=90?a.unshift("Excellent summary!"):d>=80?a.unshift("Good summary with minor improvements needed"):d>=70?a.unshift("Adequate summary, several areas need improvement"):a.unshift("Summary needs significant improvement"),{modelsAndConcepts:Math.round(i),conciseness:Math.round(o),coverage:Math.round(s),total:d,feedback:a}})(i,t,l);r(e)},handleReset:u,handleScenarioChange:(e,n)=>{const t=n.find(n=>n.id===e);t&&(a(t),u())}}},d={"Deployment Models":{Public:"Cloud resources accessible to general public. Shared infrastructure, lower cost.",Private:"Cloud resources exclusively for one organization. Higher control and security.",Hybrid:"Combination of public and private clouds with integrated connectivity."},"Service Models":{SaaS:"Software as a Service - ready-to-use applications (e.g., Office 365, Salesforce)",PaaS:"Platform as a Service - development environment (e.g., Azure App Service, Heroku)",IaaS:"Infrastructure as a Service - compute/storage/networking (e.g., EC2, Azure VMs)"},"Key Concepts":{Scalability:"Ability to handle increased workload by adding resources",Elasticity:"Automatic adjustment of resources based on demand",Multitenancy:"Multiple customers sharing same resources with logical separation",NFV:"Network Function Virtualization - replace hardware appliances with virtual functions"}},p=[{aspect:"What you manage",SaaS:"Nothing - fully managed",PaaS:"Code and data",IaaS:"OS, middleware, runtime, data"},{aspect:"Deployment flexibility",SaaS:"None - pre-configured",PaaS:"High within platform constraints",IaaS:"Maximum flexibility"},{aspect:"Cost model",SaaS:"Per-user subscription",PaaS:"Pay-per-use + reserved instances",IaaS:"Pay-per-resource hourly/monthly"},{aspect:"Best for",SaaS:"Business applications, email",PaaS:"Web apps, APIs, microservices",IaaS:"Large infrastructure, customization"}],u=[{scenario:"Company needs enterprise email and collaboration",deployment:"Public",service:"SaaS",examples:"Microsoft 365, Google Workspace"},{scenario:"Building containerized microservices API",deployment:"Public",service:"PaaS",examples:"Azure App Service, Cloud Run"},{scenario:"Legacy app requiring Windows Server OS",deployment:"Any",service:"IaaS",examples:"EC2, Azure VMs"},{scenario:"Healthcare system with data residency requirements",deployment:"Private/Hybrid",service:"Any",examples:"On-premises + VPN to public cloud"},{scenario:"Startup needing rapid scaling (0-1M users)",deployment:"Public",service:"PaaS",examples:"Elastic load balancing + auto-scaling"},{scenario:"Multi-tenant SaaS application",deployment:"Public",service:"PaaS + IaaS",examples:"Microservices with managed DB"}],m={"Small website":{compute:50,storage:5,bandwidth:10,monthly:"65"},"Medium app":{compute:300,storage:100,bandwidth:50,monthly:"450"},"Enterprise system":{compute:2e3,storage:1e3,bandwidth:500,monthly:"3500"}},h=[{id:"q1",question:"A company needs to deploy applications but does not want to manage servers. Which service model is best?",options:["SaaS","PaaS","IaaS","FaaS"],correct:"PaaS",explanation:"PaaS provides a platform without server management - you deploy code and the platform handles infrastructure."},{id:"q2",question:"What is the primary advantage of hybrid cloud for regulated industries?",options:["Unlimited scalability","Meeting data residency requirements","Cost reduction","Simplified management"],correct:"Meeting data residency requirements",explanation:"Hybrid clouds allow sensitive data to remain on-premises (meeting regulations) while using public cloud for other workloads."},{id:"q3",question:"Which cloud concept allows automatic resource adjustment based on demand?",options:["Scalability","Elasticity","Multitenancy","Virtualization"],correct:"Elasticity",explanation:"Elasticity is automatic scaling based on real-time demand, while scalability is the capacity to handle increased load."},{id:"q4",question:"In a multi-tenant cloud environment, how is customer data isolated?",options:["Separate physical servers","Separate cloud regions","Logical separation through VPCs and security groups","Only encryption"],correct:"Logical separation through VPCs and security groups",explanation:"Multi-tenant clouds use logical isolation (VPCs, network policies) to separate customer data in shared infrastructure."}],g=({selectedScenario:n,userSummary:t,setUserSummary:a,wordCount:i,score:o,showIdealSolution:s,onSubmit:r,onReset:l,onToggleIdealSolution:c})=>e.jsxs("div",{className:"content-grid",children:[e.jsxs("div",{className:"scenario-panel",children:[e.jsx("h3",{children:n.title}),e.jsx("div",{className:"scenario-metadata",children:e.jsx("span",{className:"badge",children:n.provider})}),e.jsx("div",{className:"scenario-description",children:n.description.split("\n\n").map((n,t)=>e.jsx("p",{children:n.trim()},t))}),e.jsxs("div",{className:"scenario-requirements",children:[e.jsx("h4",{children:"Key Requirements:"}),e.jsx("ul",{children:n.requirements.map((n,t)=>e.jsx("li",{children:n},t))})]})]}),e.jsxs("div",{className:"summary-panel",children:[e.jsxs("div",{className:"word-counter",children:[e.jsxs("span",{className:"count "+(i>100?"warning":i>150?"error":"good"),children:[i," words"]}),e.jsx("span",{className:"target",children:"Target: â‰¤100 words"})]}),e.jsxs("div",{className:"summary-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"deployment-model",children:"Deployment Model *"}),e.jsxs("select",{id:"deployment-model",value:t.deploymentModel||"",onChange:e=>a({...t,deploymentModel:e.target.value}),children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Public",children:"Public"}),e.jsx("option",{value:"Private",children:"Private"}),e.jsx("option",{value:"Hybrid",children:"Hybrid"})]}),e.jsx("input",{type:"text",placeholder:"Justification (concise)",value:t.deploymentJustification||"",onChange:e=>a({...t,deploymentJustification:e.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"service-model",children:"Service Model *"}),e.jsxs("select",{id:"service-model",value:t.serviceModel||"",onChange:e=>a({...t,serviceModel:e.target.value}),children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"SaaS",children:"SaaS (Software as a Service)"}),e.jsx("option",{value:"PaaS",children:"PaaS (Platform as a Service)"}),e.jsx("option",{value:"IaaS",children:"IaaS (Infrastructure as a Service)"})]}),e.jsx("input",{type:"text",placeholder:"Specific examples (comma separated)",value:t.serviceExamples?.join(", ")||"",onChange:e=>a({...t,serviceExamples:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"connectivity-method",children:"Connectivity Method *"}),e.jsxs("select",{id:"connectivity-method",value:t.connectivityMethod||"",onChange:e=>a({...t,connectivityMethod:e.target.value}),children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"VPN",children:"VPN"}),e.jsx("option",{value:"Direct Connect",children:"Direct Connect (Dedicated)"}),e.jsx("option",{value:"Internet Gateway",children:"Internet Gateway"})]}),e.jsx("input",{type:"text",placeholder:"Reasoning (concise)",value:t.connectivityReasoning||"",onChange:e=>a({...t,connectivityReasoning:e.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"nfv-implementation",children:"NFV Implementation"}),e.jsx("input",{id:"nfv-implementation",type:"text",placeholder:"How network functions are virtualized",value:t.nfvImplementation||"",onChange:e=>a({...t,nfvImplementation:e.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"vpc-subnets",children:"VPC Configuration"}),e.jsx("input",{id:"vpc-subnets",type:"text",placeholder:"Subnets (comma separated)",value:t.vpcConfiguration?.subnets.join(", ")||"",onChange:e=>a({...t,vpcConfiguration:{...t.vpcConfiguration,subnets:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}})}),e.jsx("input",{type:"text",placeholder:"Security groups (comma separated)",value:t.vpcConfiguration?.securityGroups.join(", ")||"",onChange:e=>a({...t,vpcConfiguration:{...t.vpcConfiguration,securityGroups:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"gateway-usage",children:"Cloud Gateways"}),e.jsxs("div",{className:"checkbox-group",children:[e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.cloudGateways?.internetGateway||!1,onChange:e=>a({...t,cloudGateways:{...t.cloudGateways,internetGateway:e.target.checked}})}),"Internet Gateway"]}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.cloudGateways?.natGateway||!1,onChange:e=>a({...t,cloudGateways:{...t.cloudGateways,natGateway:e.target.checked}})}),"NAT Gateway"]})]}),e.jsx("input",{id:"gateway-usage",type:"text",placeholder:"Usage explanation",value:t.cloudGateways?.usage||"",onChange:e=>a({...t,cloudGateways:{...t.cloudGateways,usage:e.target.value}})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"scalability-type",children:"Scalability Features"}),e.jsxs("select",{id:"scalability-type",value:t.scalabilityFeatures?.type||"Auto",onChange:e=>a({...t,scalabilityFeatures:{...t.scalabilityFeatures,type:e.target.value}}),children:[e.jsx("option",{value:"Auto",children:"Auto Scaling"}),e.jsx("option",{value:"Vertical",children:"Vertical Scaling"}),e.jsx("option",{value:"Horizontal",children:"Horizontal Scaling"})]}),e.jsx("input",{type:"text",placeholder:"Description (concise)",value:t.scalabilityFeatures?.description||"",onChange:e=>a({...t,scalabilityFeatures:{...t.scalabilityFeatures,description:e.target.value}})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"elasticity-implementation",children:"Elasticity Implementation"}),e.jsx("input",{id:"elasticity-implementation",type:"text",placeholder:"How resources automatically adjust",value:t.elasticityImplementation||"",onChange:e=>a({...t,elasticityImplementation:e.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"multitenancy-considerations",children:"Multitenancy Considerations"}),e.jsx("input",{id:"multitenancy-considerations",type:"text",placeholder:"Isolation and security (comma separated)",value:t.multitenancyConsiderations?.join(", ")||"",onChange:e=>a({...t,multitenancyConsiderations:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})})]})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-primary",onClick:r,children:"Submit & Score"}),e.jsx("button",{className:"btn-secondary",onClick:l,children:"Reset"}),e.jsxs("button",{className:"btn-secondary",onClick:c,children:[s?"Hide":"Show"," Ideal Solution"]})]}),o&&e.jsxs("div",{className:"score-panel",children:[e.jsxs("h3",{children:["Your Score: ",o.total,"%"]}),e.jsxs("div",{className:"score-breakdown",children:[e.jsxs("div",{className:"score-item",children:[e.jsx("span",{children:"Models & Concepts (40%):"}),e.jsxs("span",{className:"score-value",children:[o.modelsAndConcepts,"%"]})]}),e.jsxs("div",{className:"score-item",children:[e.jsx("span",{children:"Conciseness (20%):"}),e.jsxs("span",{className:"score-value",children:[o.conciseness,"%"]})]}),e.jsxs("div",{className:"score-item",children:[e.jsx("span",{children:"Coverage (40%):"}),e.jsxs("span",{className:"score-value",children:[o.coverage,"%"]})]})]}),e.jsxs("div",{className:"feedback",children:[e.jsx("h4",{children:"Feedback:"}),e.jsx("ul",{children:o.feedback.map((n,t)=>e.jsx("li",{children:n},t))})]})]}),s&&e.jsxs("div",{className:"ideal-solution",children:[e.jsx("h3",{children:"Ideal Solution"}),e.jsxs("div",{className:"solution-content",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Deployment:"})," ",n.idealSolution.deploymentModel," -"," ",n.idealSolution.deploymentJustification]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Service Model:"})," ",n.idealSolution.serviceModel]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Examples:"})," ",n.idealSolution.serviceExamples.join("; ")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Connectivity:"})," ",n.idealSolution.connectivityMethod," -"," ",n.idealSolution.connectivityReasoning]}),e.jsxs("p",{children:[e.jsx("strong",{children:"NFV:"})," ",n.idealSolution.nfvImplementation]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Gateways:"})," ",n.idealSolution.cloudGateways.usage]})]})]})]})]}),y=({cloudTerms:n,selectedCategory:t,onCategoryChange:a})=>e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"term-selector",children:Object.keys(n).map(n=>e.jsx("button",{className:"term-category-btn "+(t===n?"active":""),onClick:()=>a(n),children:n},n))}),e.jsx("div",{className:"terminology-grid",children:Object.entries(n[t]).map(([n,t])=>e.jsxs("div",{className:"term-card",children:[e.jsx("h3",{children:n}),e.jsx("p",{children:t})]},n))})]}),f=({mode:n})=>"comparison"===n?e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"comparison-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Aspect"}),e.jsx("th",{children:"SaaS"}),e.jsx("th",{children:"PaaS"}),e.jsx("th",{children:"IaaS"})]})}),e.jsx("tbody",{children:p.map((n,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"aspect-cell",children:e.jsx("strong",{children:n.aspect})}),e.jsx("td",{children:n.SaaS}),e.jsx("td",{children:n.PaaS}),e.jsx("td",{children:n.IaaS})]},t))})]})}),e.jsx("div",{className:"comparison-note",children:e.jsx("p",{children:"Use this matrix to quickly identify which service model best fits your use case."})})]}):e.jsx("div",{className:"tab-content",children:e.jsx("div",{className:"usecase-grid",children:u.map((n,t)=>e.jsxs("div",{className:"usecase-card",children:[e.jsx("h4",{children:"Scenario:"}),e.jsx("p",{className:"scenario-text",children:n.scenario}),e.jsxs("div",{className:"usecase-info",children:[e.jsxs("div",{className:"usecase-item",children:[e.jsx("span",{className:"label",children:"Deployment:"}),e.jsx("span",{className:"value",children:n.deployment})]}),e.jsxs("div",{className:"usecase-item",children:[e.jsx("span",{className:"label",children:"Service:"}),e.jsx("span",{className:"value",children:n.service})]}),e.jsxs("div",{className:"usecase-item",children:[e.jsx("span",{className:"label",children:"Examples:"}),e.jsx("span",{className:"value",children:n.examples})]})]})]},t))})}),b=({mode:n,costProfile:t,costInputs:a,onCostProfileChange:i,examQuestions:o,userAnswers:s,onAnswerQuestion:r,getQuestionScore:l})=>"cost"===n&&t&&a&&i?e.jsx("div",{className:"tab-content",children:e.jsxs("div",{className:"cost-calculator",children:[e.jsx("h3",{children:"Cloud Cost Estimation"}),e.jsxs("div",{className:"cost-profile-selector",children:[e.jsx("label",{children:"Select a profile:"}),Object.keys(a).map(n=>e.jsx("button",{className:"profile-btn "+(t===n?"active":""),onClick:()=>i(n),children:n},n))]}),e.jsxs("div",{className:"cost-breakdown",children:[e.jsxs("div",{className:"cost-item",children:[e.jsx("span",{className:"cost-label",children:"Compute (CPU/Memory):"}),e.jsxs("span",{className:"cost-value",children:["$",a[t].compute,"/month"]})]}),e.jsxs("div",{className:"cost-item",children:[e.jsx("span",{className:"cost-label",children:"Storage (GB):"}),e.jsxs("span",{className:"cost-value",children:["$",a[t].storage,"/month"]})]}),e.jsxs("div",{className:"cost-item",children:[e.jsx("span",{className:"cost-label",children:"Bandwidth (TB):"}),e.jsxs("span",{className:"cost-value",children:["$",a[t].bandwidth,"/month"]})]}),e.jsxs("div",{className:"cost-item total",children:[e.jsx("span",{className:"cost-label",children:"Total Estimated Cost:"}),e.jsxs("span",{className:"cost-value",children:["$",a[t].monthly,"/month"]})]})]}),e.jsx("div",{className:"cost-note",children:e.jsx("p",{children:"These are simplified estimates. Actual costs vary by provider, region, and usage patterns. Check AWS, Azure, or GCP cost calculators for detailed pricing."})})]})}):"exam"===n&&o&&s&&r&&l?e.jsx("div",{className:"tab-content",children:e.jsxs("div",{className:"exam-practice",children:[e.jsx("h3",{children:"Exam Practice Questions"}),e.jsx("div",{className:"exam-questions",children:o.map(n=>e.jsxs("div",{className:"exam-question "+(!0===l(n.id)?"correct":!1===l(n.id)?"incorrect":""),children:[e.jsx("h4",{children:n.question}),e.jsx("div",{className:"exam-options",children:n.options.map(t=>e.jsxs("label",{className:"exam-option",children:[e.jsx("input",{type:"radio",name:n.id,value:t,checked:s[n.id]===t,onChange:()=>r(n.id,t)}),e.jsx("span",{children:t})]},t))}),s[n.id]&&e.jsx("div",{className:"exam-feedback "+(l(n.id)?"success":"error"),children:e.jsxs("p",{children:[e.jsx("strong",{children:l(n.id)?"Correct!":"Incorrect."})," ",n.explanation]})})]},n.id))})]})}):null,x=({scenarios:n,selectedScenario:t,onScenarioChange:a})=>e.jsxs("div",{className:"scenario-selector",children:[e.jsx("label",{htmlFor:"scenario-select",children:"Select Scenario:"}),e.jsx("select",{id:"scenario-select",value:t.id,onChange:e=>a(e.target.value),children:n.map(n=>e.jsxs("option",{value:n.id,children:[n.title," (",n.provider,")"]},n.id))})]}),v=()=>{const{selectedScenario:t,userSummary:a,setUserSummary:i,score:o,wordCount:r,showIdealSolution:l,setShowIdealSolution:p,handleSubmit:u,handleReset:v,handleScenarioChange:w}=c(s[0]),{activeTab:S,setActiveTab:C,selectedTermCategory:j,setSelectedTermCategory:k,userAnswers:N,costProfile:P,setCostProfile:_,handleQuestionAnswer:A,getScore:D,cloudTerms:z,costInputs:M,examQuestions:I}=(()=>{const[e,t]=n.useState("builder"),[a,i]=n.useState("Deployment Models"),[o,s]=n.useState({}),[r,l]=n.useState("Medium app");return{activeTab:e,setActiveTab:t,selectedTermCategory:a,setSelectedTermCategory:i,userAnswers:o,costProfile:r,setCostProfile:l,handleQuestionAnswer:(e,n)=>{s({...o,[e]:n})},getScore:e=>((e,n,t)=>{const a=n[e];if(!a)return null;const i=t.find(n=>n.id===e);return i?a===i.correct:null})(e,o,h),cloudTerms:d,costInputs:m,examQuestions:h}})();return e.jsxs("div",{className:"cloud-summary-builder",children:[e.jsxs("div",{className:"header",children:[e.jsx("h2",{children:"Cloud Concept Summary Card Builder (Enhanced)"}),e.jsx("p",{children:"Master cloud concepts with scenarios, definitions, comparisons, and exam practice"})]}),e.jsx("div",{className:"tab-navigation",children:[{key:"builder",label:"Builder"},{key:"terms",label:"Terminology"},{key:"comparison",label:"Service Comparison"},{key:"usecase",label:"Use Cases"},{key:"cost",label:"Cost Calculator"},{key:"exam",label:"Exam Practice"}].map(n=>e.jsx("button",{className:"tab-button "+(S===n.key?"active":""),onClick:()=>C(n.key),children:n.label},n.key))}),"builder"===S&&e.jsxs(e.Fragment,{children:[e.jsx(x,{scenarios:s,selectedScenario:t,onScenarioChange:e=>w(e,s)}),e.jsx(g,{selectedScenario:t,userSummary:a,setUserSummary:i,wordCount:r,score:o,showIdealSolution:l,onSubmit:u,onReset:v,onToggleIdealSolution:()=>p(!l)})]}),"terms"===S&&e.jsx(y,{cloudTerms:z,selectedCategory:j,onCategoryChange:k}),"comparison"===S&&e.jsx(f,{mode:"comparison"}),"usecase"===S&&e.jsx(f,{mode:"usecase"}),"cost"===S&&e.jsx(b,{mode:"cost",costProfile:P,costInputs:M,onCostProfileChange:_}),"exam"===S&&e.jsx(b,{mode:"exam",examQuestions:I,userAnswers:N,onAnswerQuestion:A,getQuestionScore:D}),e.jsx("style",{children:'\n  .cloud-summary-builder {\n    padding: 20px;\n    max-width: 1400px;\n    margin: 0 auto;\n    font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n  }\n\n  .header {\n    text-align: center;\n    margin-bottom: 30px;\n  }\n\n  .header h2 {\n    color: #111827;\n    margin-bottom: 10px;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .header h2 {\n      color: #f9fafb;\n    }\n  }\n\n  .header p {\n    color: #374151;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .header p {\n      color: #d1d5db;\n    }\n  }\n\n  .scenario-selector {\n    margin-bottom: 20px;\n    display: flex;\n    align-items: center;\n    gap: 10px;\n  }\n\n  .scenario-selector select {\n    flex: 1;\n    padding: 10px;\n    border: 1px solid #d1d5db;\n    border-radius: 6px;\n    font-size: 14px;\n  }\n\n  .content-grid {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 20px;\n  }\n\n  .scenario-panel, .summary-panel {\n    background: white;\n    border: 1px solid #e5e7eb;\n    border-radius: 8px;\n    padding: 20px;\n    max-height: 800px;\n    overflow-y: auto;\n  }\n\n  .scenario-panel h3 {\n    color: #111827;\n    margin-bottom: 10px;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .scenario-panel h3 {\n      color: #f9fafb;\n    }\n  }\n\n  .scenario-metadata {\n    margin-bottom: 15px;\n  }\n\n  .badge {\n    display: inline-block;\n    padding: 4px 12px;\n    background: #3b82f6;\n    color: white;\n    border-radius: 12px;\n    font-size: 12px;\n    font-weight: 600;\n  }\n\n  .scenario-description p {\n    margin-bottom: 15px;\n    line-height: 1.6;\n    color: #374151;\n  }\n\n  .scenario-requirements {\n    margin-top: 20px;\n    padding: 15px;\n    background: #f9fafb;\n    border-radius: 6px;\n  }\n\n  .scenario-requirements h4 {\n    margin-bottom: 10px;\n    color: #111827;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .scenario-requirements h4 {\n      color: #f9fafb;\n    }\n  }\n\n  .scenario-requirements ul {\n    list-style: none;\n    padding: 0;\n  }\n\n  .scenario-requirements li {\n    padding: 6px 0;\n    color: #111827;\n    position: relative;\n    padding-left: 20px;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .scenario-requirements li {\n      color: #f3f4f6;\n    }\n  }\n\n  .scenario-requirements li:before {\n    content: "âœ“";\n    position: absolute;\n    left: 0;\n    color: #10b981;\n    font-weight: bold;\n  }\n\n  .word-counter {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 12px;\n    background: #f3f4f6;\n    border-radius: 6px;\n    margin-bottom: 20px;\n  }\n\n  .count {\n    font-size: 18px;\n    font-weight: 600;\n  }\n\n  .count.good { color: #10b981; }\n  .count.warning { color: #f59e0b; }\n  .count.error { color: #ef4444; }\n\n  .target {\n    font-size: 14px;\n    color: #374151;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .target {\n      color: #d1d5db;\n    }\n  }\n\n  .summary-form {\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n  }\n\n  .form-group label {\n    display: block;\n    font-weight: 600;\n    color: #374151;\n    margin-bottom: 6px;\n    font-size: 14px;\n  }\n\n  .form-group input,\n  .form-group select {\n    width: 100%;\n    padding: 8px 12px;\n    border: 1px solid #d1d5db;\n    border-radius: 6px;\n    font-size: 14px;\n    margin-bottom: 8px;\n  }\n\n  .form-group input:focus,\n  .form-group select:focus {\n    outline: none;\n    border-color: #3b82f6;\n    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n  }\n\n  .checkbox-group {\n    display: flex;\n    gap: 20px;\n    margin-bottom: 8px;\n  }\n\n  .checkbox-group label {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    font-weight: normal;\n    margin-bottom: 0;\n  }\n\n  .action-buttons {\n    display: flex;\n    gap: 10px;\n    margin-top: 20px;\n  }\n\n  .btn-primary, .btn-secondary {\n    flex: 1;\n    padding: 12px;\n    border: none;\n    border-radius: 6px;\n    font-weight: 600;\n    cursor: pointer;\n    font-size: 14px;\n    transition: all 0.2s;\n  }\n\n  .btn-primary {\n    background: #3b82f6;\n    color: white;\n  }\n\n  .btn-primary:hover {\n    background: #2563eb;\n  }\n\n  .btn-secondary {\n    background: #e5e7eb;\n    color: #374151;\n  }\n\n  .btn-secondary:hover {\n    background: #d1d5db;\n  }\n\n  .score-panel {\n    margin-top: 20px;\n    padding: 20px;\n    background: #f0f9ff;\n    border: 2px solid #3b82f6;\n    border-radius: 8px;\n  }\n\n  .score-panel h3 {\n    color: #1e40af;\n    margin-bottom: 15px;\n    text-align: center;\n  }\n\n  .score-breakdown {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    margin-bottom: 15px;\n  }\n\n  .score-item {\n    display: flex;\n    justify-content: space-between;\n    padding: 8px;\n    background: white;\n    border-radius: 4px;\n  }\n\n  .score-value {\n    font-weight: 600;\n    color: #3b82f6;\n  }\n\n  .feedback h4 {\n    margin-bottom: 10px;\n    color: #111827;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .feedback h4 {\n      color: #f9fafb;\n    }\n  }\n\n  .feedback ul {\n    list-style: none;\n    padding: 0;\n  }\n\n  .feedback li {\n    padding: 6px 0;\n    color: #111827;\n    position: relative;\n    padding-left: 20px;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .feedback li {\n      color: #f3f4f6;\n    }\n  }\n\n  .feedback li:first-child {\n    font-weight: 600;\n    color: #1f2937;\n  }\n\n  .feedback li:first-child:before {\n    content: "â†’";\n    position: absolute;\n    left: 0;\n  }\n\n  .feedback li:not(:first-child):before {\n    content: "â€¢";\n    position: absolute;\n    left: 0;\n  }\n\n  .ideal-solution {\n    margin-top: 20px;\n    padding: 20px;\n    background: #f0fdf4;\n    border: 2px solid #10b981;\n    border-radius: 8px;\n  }\n\n  .ideal-solution h3 {\n    color: #065f46;\n    margin-bottom: 15px;\n  }\n\n  .solution-content p {\n    margin-bottom: 10px;\n    line-height: 1.6;\n    color: #374151;\n  }\n\n  .solution-content strong {\n    color: #065f46;\n  }\n\n  .tab-navigation {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 30px;\n    border-bottom: 2px solid #e5e7eb;\n    overflow-x: auto;\n  }\n\n  .tab-button {\n    padding: 12px 20px;\n    background: none;\n    border: none;\n    border-bottom: 3px solid transparent;\n    color: #1f2937;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.2s;\n    white-space: nowrap;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .tab-button {\n      color: #e5e7eb;\n    }\n  }\n\n  .tab-button.active {\n    color: #3b82f6;\n    border-bottom-color: #3b82f6;\n  }\n\n  .tab-button:hover {\n    color: #3b82f6;\n  }\n\n  .tab-content {\n    background: white;\n    border: 1px solid #e5e7eb;\n    border-radius: 8px;\n    padding: 30px;\n    margin-top: 20px;\n  }\n\n  .term-selector {\n    display: flex;\n    gap: 10px;\n    margin-bottom: 25px;\n    flex-wrap: wrap;\n  }\n\n  .term-category-btn {\n    padding: 10px 18px;\n    background: #f3f4f6;\n    border: 2px solid #d1d5db;\n    border-radius: 6px;\n    color: #374151;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.2s;\n  }\n\n  .term-category-btn.active {\n    background: #3b82f6;\n    border-color: #3b82f6;\n    color: white;\n  }\n\n  .terminology-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 20px;\n  }\n\n  .term-card {\n    background: #f9fafb;\n    border: 1px solid #e5e7eb;\n    border-radius: 8px;\n    padding: 20px;\n    transition: all 0.2s;\n  }\n\n  .term-card:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    transform: translateY(-2px);\n  }\n\n  .term-card h3 {\n    color: #111827;\n    margin-bottom: 12px;\n    font-size: 16px;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .term-card h3 {\n      color: #f9fafb;\n    }\n  }\n\n  .term-card p {\n    color: #374151;\n    line-height: 1.6;\n    font-size: 14px;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .term-card p {\n      color: #d1d5db;\n    }\n  }\n\n  .comparison-table {\n    overflow-x: auto;\n    margin-bottom: 20px;\n  }\n\n  .comparison-table table {\n    width: 100%;\n    border-collapse: collapse;\n    background: white;\n  }\n\n  .comparison-table th {\n    background: #3b82f6;\n    color: white;\n    padding: 15px;\n    text-align: left;\n    font-weight: 600;\n  }\n\n  .comparison-table td {\n    padding: 15px;\n    border-bottom: 1px solid #e5e7eb;\n    color: #374151;\n  }\n\n  .comparison-table .aspect-cell {\n    background: #f9fafb;\n    font-weight: 600;\n    width: 20%;\n  }\n\n  .comparison-note {\n    background: #f0f9ff;\n    border-left: 4px solid #3b82f6;\n    padding: 15px;\n    border-radius: 4px;\n    color: #1e40af;\n  }\n\n  .usecase-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n    gap: 20px;\n  }\n\n  .usecase-card {\n    background: white;\n    border: 2px solid #dbeafe;\n    border-radius: 8px;\n    padding: 20px;\n    transition: all 0.2s;\n  }\n\n  .usecase-card:hover {\n    border-color: #3b82f6;\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);\n  }\n\n  .usecase-card h4 {\n    color: #111827;\n    margin-bottom: 10px;\n    font-size: 14px;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .usecase-card h4 {\n      color: #f9fafb;\n    }\n  }\n\n  .scenario-text {\n    color: #1f2937;\n    margin-bottom: 15px;\n    font-style: italic;\n    padding-bottom: 15px;\n    border-bottom: 1px solid #e5e7eb;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .scenario-text {\n      color: #e5e7eb;\n    }\n  }\n\n  .usecase-info {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n\n  .usecase-item {\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n  }\n\n  .usecase-item .label {\n    font-weight: 600;\n    color: #111827;\n    font-size: 12px;\n    text-transform: uppercase;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .usecase-item .label {\n      color: #f3f4f6;\n    }\n  }\n\n  .usecase-item .value {\n    color: #3b82f6;\n    font-weight: 600;\n  }\n\n  .cost-calculator {\n    max-width: 600px;\n    margin: 0 auto;\n  }\n\n  .cost-calculator h3 {\n    color: #111827;\n    margin-bottom: 25px;\n    text-align: center;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .cost-calculator h3 {\n      color: #f9fafb;\n    }\n  }\n\n  .cost-profile-selector {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    margin-bottom: 30px;\n  }\n\n  .cost-profile-selector label {\n    font-weight: 600;\n    color: #374151;\n    margin-bottom: 5px;\n  }\n\n  .cost-profile-selector .profile-btn {\n    padding: 12px;\n    background: #f3f4f6;\n    border: 2px solid #d1d5db;\n    border-radius: 6px;\n    cursor: pointer;\n    font-weight: 600;\n    transition: all 0.2s;\n  }\n\n  .cost-profile-selector .profile-btn.active {\n    background: #10b981;\n    border-color: #10b981;\n    color: white;\n  }\n\n  .cost-breakdown {\n    background: #f9fafb;\n    border-radius: 8px;\n    padding: 20px;\n    margin-bottom: 20px;\n  }\n\n  .cost-item {\n    display: flex;\n    justify-content: space-between;\n    padding: 12px 0;\n    border-bottom: 1px solid #e5e7eb;\n    color: #374151;\n  }\n\n  .cost-item.total {\n    border: none;\n    font-weight: 600;\n    font-size: 16px;\n    color: #1f2937;\n    padding-top: 15px;\n    margin-top: 10px;\n    border-top: 2px solid #d1d5db;\n  }\n\n  .cost-label {\n    color: #111827;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .cost-label {\n      color: #f3f4f6;\n    }\n  }\n\n  .cost-value {\n    font-weight: 600;\n    color: #10b981;\n  }\n\n  .cost-item.total .cost-value {\n    color: #1f2937;\n    font-size: 18px;\n  }\n\n  .cost-note {\n    background: #fef3c7;\n    border-left: 4px solid #f59e0b;\n    padding: 15px;\n    border-radius: 4px;\n    color: #92400e;\n    font-size: 13px;\n  }\n\n  .cost-note p {\n    margin: 0;\n    line-height: 1.6;\n  }\n\n  .exam-practice h3 {\n    color: #111827;\n    margin-bottom: 25px;\n    text-align: center;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .exam-practice h3 {\n      color: #f9fafb;\n    }\n  }\n\n  .exam-questions {\n    display: flex;\n    flex-direction: column;\n    gap: 25px;\n  }\n\n  .exam-question {\n    background: white;\n    border: 2px solid #e5e7eb;\n    border-radius: 8px;\n    padding: 20px;\n    transition: all 0.2s;\n  }\n\n  .exam-question.correct {\n    border-color: #10b981;\n    background: #f0fdf4;\n  }\n\n  .exam-question.incorrect {\n    border-color: #ef4444;\n    background: #fef2f2;\n  }\n\n  .exam-question h4 {\n    color: #111827;\n    margin-bottom: 15px;\n    font-size: 15px;\n    line-height: 1.6;\n  }\n\n  @media (prefers-color-scheme: dark) {\n    .exam-question h4 {\n      color: #f9fafb;\n    }\n  }\n\n  .exam-options {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    margin-bottom: 15px;\n  }\n\n  .exam-option {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 10px;\n    border-radius: 6px;\n    cursor: pointer;\n    transition: all 0.2s;\n  }\n\n  .exam-option:hover {\n    background: #f3f4f6;\n  }\n\n  .exam-option input[type=\'radio\'] {\n    cursor: pointer;\n    width: 18px;\n    height: 18px;\n  }\n\n  .exam-option span {\n    color: #374151;\n    font-weight: 500;\n  }\n\n  .exam-feedback {\n    padding: 12px;\n    border-radius: 6px;\n    margin-top: 10px;\n  }\n\n  .exam-feedback.success {\n    background: #d1fae5;\n    color: #065f46;\n    border-left: 4px solid #10b981;\n  }\n\n  .exam-feedback.error {\n    background: #fee2e2;\n    color: #7f1d1d;\n    border-left: 4px solid #ef4444;\n  }\n\n  .exam-feedback p {\n    margin: 0;\n    line-height: 1.6;\n    font-size: 14px;\n  }\n\n  @media (max-width: 768px) {\n    .tab-navigation {\n      flex-wrap: wrap;\n    }\n\n    .terminology-grid {\n      grid-template-columns: 1fr;\n    }\n\n    .usecase-grid {\n      grid-template-columns: 1fr;\n    }\n\n    .comparison-table {\n      font-size: 13px;\n    }\n\n    .comparison-table th,\n    .comparison-table td {\n      padding: 10px 8px;\n    }\n\n    .cost-profile-selector .profile-btn {\n      padding: 10px;\n      font-size: 13px;\n    }\n  }\n'})]})},w=Object.freeze(Object.defineProperty({__proto__:null,CloudSummaryBuilder:v,default:v},Symbol.toStringTag,{value:"Module"}));var S=Symbol.for("immer-nothing"),C=Symbol.for("immer-draftable"),j=Symbol.for("immer-state");function k(e,...n){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var N=Object,P=N.getPrototypeOf,_="constructor",A="prototype",D="configurable",z="enumerable",M="writable",I="value",G=e=>!!e&&!!e[j];function E(e){return!!e&&(L(e)||B(e)||!!e[C]||!!e[_]?.[C]||O(e)||q(e))}var T=N[A][_].toString(),R=new WeakMap;function L(e){if(!e||!Y(e))return!1;const n=P(e);if(null===n||n===N[A])return!0;const t=N.hasOwnProperty.call(n,_)&&n[_];if(t===Object)return!0;if(!X(t))return!1;let a=R.get(t);return void 0===a&&(a=Function.toString.call(t),R.set(t,a)),a===T}function W(e,n,t=!0){if(0===F(e)){(t?Reflect.ownKeys(e):N.keys(e)).forEach(t=>{n(t,e[t],e)})}else e.forEach((t,a)=>n(a,t,e))}function F(e){const n=e[j];return n?n.type_:B(e)?1:O(e)?2:q(e)?3:0}var V=(e,n,t=F(e))=>2===t?e.has(n):N[A].hasOwnProperty.call(e,n),H=(e,n,t=F(e))=>2===t?e.get(n):e[n],$=(e,n,t,a=F(e))=>{2===a?e.set(n,t):3===a?e.add(t):e[n]=t};var B=Array.isArray,O=e=>e instanceof Map,q=e=>e instanceof Set,Y=e=>"object"==typeof e,X=e=>"function"==typeof e,U=e=>"boolean"==typeof e,Q=e=>e.copy_||e.base_,J=e=>e.modified_?e.copy_:e.base_;function Z(e,n){if(O(e))return new Map(e);if(q(e))return new Set(e);if(B(e))return Array[A].slice.call(e);const t=L(e);if(!0===n||"class_only"===n&&!t){const n=N.getOwnPropertyDescriptors(e);delete n[j];let t=Reflect.ownKeys(n);for(let a=0;a<t.length;a++){const i=t[a],o=n[i];!1===o[M]&&(o[M]=!0,o[D]=!0),(o.get||o.set)&&(n[i]={[D]:!0,[M]:!0,[z]:o[z],[I]:e[i]})}return N.create(P(e),n)}{const n=P(e);if(null!==n&&t)return{...e};const a=N.create(n);return N.assign(a,e)}}function K(e,n=!1){return ne(e)||G(e)||!E(e)||(F(e)>1&&N.defineProperties(e,{set:ee,add:ee,clear:ee,delete:ee}),N.freeze(e),n&&W(e,(e,n)=>{K(n,!0)},!1)),e}var ee={[I]:function(){k(2)}};function ne(e){return null===e||!Y(e)||N.isFrozen(e)}var te="MapSet",ae="Patches",ie={};function oe(e){const n=ie[e];return n||k(0),n}var se,re=()=>se;function le(e,n){n&&(e.patchPlugin_=oe(ae),e.patches_=[],e.inversePatches_=[],e.patchListener_=n)}function ce(e){de(e),e.drafts_.forEach(ue),e.drafts_=null}function de(e){e===se&&(se=e.parent_)}var pe=e=>{return se={drafts_:[],parent_:se,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:(n=te,ie[n]?oe(te):void 0)};var n};function ue(e){const n=e[j];0===n.type_||1===n.type_?n.revoke_():n.revoked_=!0}function me(e,n){n.unfinalizedDrafts_=n.drafts_.length;const t=n.drafts_[0];if(void 0!==e&&e!==t){t[j].modified_&&(ce(n),k(4)),E(e)&&(e=he(n,e));const{patchPlugin_:a}=n;a&&a.generateReplacementPatches_(t[j].base_,e,n)}else e=he(n,t);return function(e,n,t=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&K(n,t)}(n,e,!0),ce(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),e!==S?e:void 0}function he(e,n){if(ne(n))return n;const t=n[j];if(!t){return ve(n,e.handledSet_,e)}if(!ye(t,e))return n;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:n}=t;if(n)for(;n.length>0;){n.pop()(e)}xe(t,e)}return t.copy_}function ge(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ye=(e,n)=>e.scope_===n,fe=[];function be(e,n,t,a){const i=Q(e),o=e.type_;if(void 0!==a){if(H(i,a,o)===n)return void $(i,a,t,o)}if(!e.draftLocations_){const n=e.draftLocations_=new Map;W(i,(e,t)=>{if(G(t)){const a=n.get(t)||[];a.push(e),n.set(t,a)}})}const s=e.draftLocations_.get(n)??fe;for(const r of s)$(i,r,t,o)}function xe(e,n){if(e.modified_&&!e.finalized_&&(3===e.type_||(e.assigned_?.size??0)>0)){const{patchPlugin_:t}=n;if(t){const a=t.getPath(e);a&&t.generatePatches_(e,a,n)}ge(e)}}function ve(e,n,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||G(e)||n.has(e)||!E(e)||ne(e)||(n.add(e),W(e,(a,i)=>{if(G(i)){const n=i[j];if(ye(n,t)){const t=J(n);$(e,a,t,e.type_),ge(n)}}else E(i)&&ve(i,n,t)})),e}var we={get(e,n){if(n===j)return e;const t=Q(e);if(!V(t,n,e.type_))return function(e,n,t){const a=je(n,t);return a?I in a?a[I]:a.get?.call(e.draft_):void 0}(e,t,n);const a=t[n];if(e.finalized_||!E(a))return a;if(a===Ce(e.base_,n)){Ne(e);const t=1===e.type_?+n:n,i=Pe(e.scope_,a,e,t);return e.copy_[t]=i}return a},has:(e,n)=>n in Q(e),ownKeys:e=>Reflect.ownKeys(Q(e)),set(e,n,t){const a=je(Q(e),n);if(a?.set)return a.set.call(e.draft_,t),!0;if(!e.modified_){const a=Ce(Q(e),n),s=a?.[j];if(s&&s.base_===t)return e.copy_[n]=t,e.assigned_.set(n,!1),!0;if(((i=t)===(o=a)?0!==i||1/i==1/o:i!=i&&o!=o)&&(void 0!==t||V(e.base_,n,e.type_)))return!0;Ne(e),ke(e)}var i,o;return e.copy_[n]===t&&(void 0!==t||n in e.copy_)||Number.isNaN(t)&&Number.isNaN(e.copy_[n])||(e.copy_[n]=t,e.assigned_.set(n,!0),function(e,n,t){const{scope_:a}=e;if(G(t)){const i=t[j];ye(i,a)&&i.callbacks_.push(function(){Ne(e);const a=J(i);be(e,t,a,n)})}else E(t)&&e.callbacks_.push(function(){const i=Q(e);H(i,n,e.type_)===t&&a.drafts_.length>1&&!0===(e.assigned_.get(n)??!1)&&e.copy_&&ve(H(e.copy_,n,e.type_),a.handledSet_,a)})}(e,n,t)),!0},deleteProperty:(e,n)=>(Ne(e),void 0!==Ce(e.base_,n)||n in e.base_?(e.assigned_.set(n,!1),ke(e)):e.assigned_.delete(n),e.copy_&&delete e.copy_[n],!0),getOwnPropertyDescriptor(e,n){const t=Q(e),a=Reflect.getOwnPropertyDescriptor(t,n);return a?{[M]:!0,[D]:1!==e.type_||"length"!==n,[z]:a[z],[I]:t[n]}:a},defineProperty(){k(11)},getPrototypeOf:e=>P(e.base_),setPrototypeOf(){k(12)}},Se={};function Ce(e,n){const t=e[j];return(t?Q(t):e)[n]}function je(e,n){if(!(n in e))return;let t=P(e);for(;t;){const e=Object.getOwnPropertyDescriptor(t,n);if(e)return e;t=P(t)}}function ke(e){e.modified_||(e.modified_=!0,e.parent_&&ke(e.parent_))}function Ne(e){e.copy_||(e.assigned_=new Map,e.copy_=Z(e.base_,e.scope_.immer_.useStrictShallowCopy_))}W(we,(e,n)=>{Se[e]=function(){const e=arguments;return e[0]=e[0][0],n.apply(this,e)}}),Se.deleteProperty=function(e,n){return Se.set.call(this,e,n,void 0)},Se.set=function(e,n,t){return we.set.call(this,e[0],n,t,e[0])};function Pe(e,n,t,a){const[i,o]=O(n)?oe(te).proxyMap_(n,t):q(n)?oe(te).proxySet_(n,t):function(e,n){const t=B(e),a={type_:t?1:0,scope_:n?n.scope_:re(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:n,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=a,o=we;t&&(i=[a],o=Se);const{revoke:s,proxy:r}=Proxy.revocable(i,o);return a.draft_=r,a.revoke_=s,[r,a]}(n,t);return(t?.scope_??re()).drafts_.push(i),o.callbacks_=t?.callbacks_??[],o.key_=a,t&&void 0!==a?function(e,n,t){e.callbacks_.push(function(a){const i=n;if(!i||!ye(i,a))return;a.mapSetPlugin_?.fixSetContents(i);const o=J(i);be(e,i.draft_??i,o,t),xe(i,a)})}(t,o,a):o.callbacks_.push(function(e){e.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:n}=e;o.modified_&&n&&n.generatePatches_(o,[],e)}),i}function _e(e){if(!E(e)||ne(e))return e;const n=e[j];let t,a=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,t=Z(e,n.scope_.immer_.useStrictShallowCopy_),a=n.scope_.immer_.shouldUseStrictIteration()}else t=Z(e,!0);return W(t,(e,n)=>{$(t,e,_e(n))},a),n&&(n.finalized_=!1),t}var Ae=(new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,n,t)=>{if(X(e)&&!X(n)){const t=n;n=e;const a=this;return function(e=t,...i){return a.produce(e,e=>n.call(this,e,...i))}}let a;if(X(n)||k(6),void 0===t||X(t)||k(7),E(e)){const i=pe(this),o=Pe(i,e,void 0);let s=!0;try{a=n(o),s=!1}finally{s?ce(i):de(i)}return le(i,t),me(a,i)}if(!e||!Y(e)){if(a=n(e),void 0===a&&(a=e),a===S&&(a=void 0),this.autoFreeze_&&K(a,!0),t){const n=[],i=[];oe(ae).generateReplacementPatches_(e,a,{patches_:n,inversePatches_:i}),t(n,i)}return a}k(1)},this.produceWithPatches=(e,n)=>{if(X(e))return(n,...t)=>this.produceWithPatches(n,n=>e(n,...t));let t,a;return[this.produce(e,n,(e,n)=>{t=e,a=n}),t,a]},U(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),U(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),U(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){E(e)||k(8),G(e)&&(e=function(e){G(e)||k(10);return _e(e)}(e));const n=pe(this),t=Pe(n,e,void 0);return t[j].isManual_=!0,de(n),t}finishDraft(e,n){const t=e&&e[j];t&&t.isManual_||k(9);const{scope_:a}=t;return le(a,n),me(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let t;for(t=n.length-1;t>=0;t--){const a=n[t];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}t>-1&&(n=n.slice(t+1));const a=oe(ae).applyPatches_;return G(e)?a(e,n):this.produce(e,e=>a(e,n))}}).produce;const De=e=>(n,t,a)=>(a.setState=(e,t,...a)=>{const i="function"==typeof e?Ae(e):e;return n(i,t,...a)},e(a.setState,t,a)),ze=()=>({id:"design-"+Date.now(),name:"New Cloud Architecture",description:"",components:[],connections:[],metadata:{created:new Date,modified:new Date,author:"Student"}}),Me=ze(),Ie={design:Me,canvasState:{zoom:1,panX:0,panY:0,isDragging:!1,isConnecting:!1,gridSize:20,snapToGrid:!0},dragState:{isDragging:!1,componentId:null,startX:0,startY:0,offsetX:0,offsetY:0},resizeState:{isResizing:!1,componentId:null,handle:null,startX:0,startY:0,startWidth:0,startHeight:0,startComponentX:0,startComponentY:0},connectionState:{isConnecting:!1,fromId:null,cursorX:0,cursorY:0},canvasPan:{isPanning:!1,startX:0,startY:0},history:{past:[],present:Me,future:[]},selectedComponent:null,hoveredComponent:null,validation:null,showLibrary:!0,activeCategory:"deployment-zone",showServiceComparison:!1,showSecurityPanel:!1,showElasticityVisualization:!1,isDraggingFromLibrary:!1},Ge=o()(a(i(De((e,n)=>({...Ie,setDesign:n=>{e(e=>{e.design={...n,metadata:{...n.metadata,modified:new Date}}})},updateDesign:n=>{e(e=>{n(e.design),e.design.metadata.modified=new Date})},addComponent:t=>{e(e=>{e.design.components.push(t),e.design.metadata.modified=new Date}),n().pushHistory(n().design)},updateComponent:(t,a)=>{e(e=>{const n=e.design.components.find(e=>e.id===t);n&&(Object.assign(n,a),e.design.metadata.modified=new Date)}),n().pushHistory(n().design)},removeComponent:t=>{e(e=>{e.design.components=e.design.components.filter(e=>e.id!==t),e.design.connections=e.design.connections.filter(e=>e.from!==t&&e.to!==t),e.design.metadata.modified=new Date,e.selectedComponent?.id===t&&(e.selectedComponent=null)}),n().pushHistory(n().design)},addConnection:t=>{e(e=>{e.design.connections.push(t),e.design.metadata.modified=new Date}),n().pushHistory(n().design)},removeConnection:t=>{e(e=>{e.design.connections=e.design.connections.filter(e=>e.id!==t),e.design.metadata.modified=new Date}),n().pushHistory(n().design)},setDesignMetadata:n=>{e(e=>{Object.assign(e.design.metadata,n),e.design.metadata.modified=new Date})},setCanvasState:n=>{e(e=>{Object.assign(e.canvasState,n)})},updateCanvasState:n=>{e(e=>{n(e.canvasState)})},setZoom:n=>{e(e=>{e.canvasState.zoom=Math.max(.1,Math.min(3,n))})},setPan:(n,t)=>{e(e=>{e.canvasState.panX=n,e.canvasState.panY=t})},toggleSnapToGrid:()=>{e(e=>{e.canvasState.snapToGrid=!e.canvasState.snapToGrid})},setGridSize:n=>{e(e=>{e.canvasState.gridSize=Math.max(10,Math.min(50,n))})},resetCanvas:()=>{e(e=>{e.canvasState.zoom=1,e.canvasState.panX=0,e.canvasState.panY=0})},setDragState:n=>{e(e=>{Object.assign(e.dragState,n)})},startDrag:(n,t,a)=>{e(e=>{e.dragState={isDragging:!0,componentId:n,startX:t,startY:a,offsetX:0,offsetY:0},e.canvasState.isDragging=!0})},updateDrag:(n,t)=>{e(e=>{e.dragState.isDragging&&(e.dragState.offsetX=n,e.dragState.offsetY=t)})},endDrag:()=>{e(e=>{e.dragState={isDragging:!1,componentId:null,startX:0,startY:0,offsetX:0,offsetY:0},e.canvasState.isDragging=!1}),n().pushHistory(n().design)},setResizeState:n=>{e(e=>{Object.assign(e.resizeState,n)})},startResize:(n,t,a,i,o,s,r,l)=>{e(e=>{e.resizeState={isResizing:!0,componentId:n,handle:t,startX:a,startY:i,startWidth:o,startHeight:s,startComponentX:r,startComponentY:l}})},updateResize:(e,t)=>{const{resizeState:a}=n();if(!a.isResizing||!a.componentId)return;const i=e-a.startX,o=t-a.startY;let s=a.startWidth,r=a.startHeight,l=a.startComponentX,c=a.startComponentY;switch(a.handle){case"se":s=a.startWidth+i,r=a.startHeight+o;break;case"ne":s=a.startWidth+i,r=a.startHeight-o,c=a.startComponentY+o;break;case"sw":s=a.startWidth-i,r=a.startHeight+o,l=a.startComponentX+i;break;case"nw":s=a.startWidth-i,r=a.startHeight-o,l=a.startComponentX+i,c=a.startComponentY+o}s=Math.max(80,s),r=Math.max(60,r),n().updateComponent(a.componentId,{x:l,y:c,width:s,height:r})},endResize:()=>{e(e=>{e.resizeState={isResizing:!1,componentId:null,handle:null,startX:0,startY:0,startWidth:0,startHeight:0,startComponentX:0,startComponentY:0}}),n().pushHistory(n().design)},setConnectionState:n=>{e(e=>{Object.assign(e.connectionState,n)})},startConnection:n=>{e(e=>{e.connectionState={isConnecting:!0,fromId:n,cursorX:0,cursorY:0},e.canvasState.isConnecting=!0})},updateConnection:(n,t)=>{e(e=>{e.connectionState.isConnecting&&(e.connectionState.cursorX=n,e.connectionState.cursorY=t)})},endConnection:t=>{const{connectionState:a}=n();if(t&&a.fromId&&t!==a.fromId){const e={id:"conn-"+Date.now(),from:a.fromId,to:t,type:"network",label:"TCP/IP | 1 Gbps"};n().addConnection(e)}e(e=>{e.connectionState={isConnecting:!1,fromId:null,cursorX:0,cursorY:0},e.canvasState.isConnecting=!1})},setCanvasPan:n=>{e(e=>{Object.assign(e.canvasPan,n)})},startPan:(n,t)=>{e(e=>{e.canvasPan={isPanning:!0,startX:n,startY:t}})},endPan:()=>{e(e=>{e.canvasPan={isPanning:!1,startX:0,startY:0}})},pushHistory:n=>{e(e=>{const t=e.history.past[e.history.past.length-1];if(t&&JSON.stringify(t)===JSON.stringify(n))return;const a=[...e.history.past,e.history.present].slice(-50);e.history={past:a,present:n,future:[]}})},undo:()=>{const{history:t}=n();0!==t.past.length&&e(e=>{const n=e.history.past[e.history.past.length-1],t=e.history.past.slice(0,-1);e.history={past:t,present:n,future:[e.history.present,...e.history.future]},e.design=n})},redo:()=>{const{history:t}=n();0!==t.future.length&&e(e=>{const n=e.history.future[0],t=e.history.future.slice(1);e.history={past:[...e.history.past,e.history.present],present:n,future:t},e.design=n})},canUndo:()=>n().history.past.length>0,canRedo:()=>n().history.future.length>0,clearHistory:()=>{e(e=>{e.history={past:[],present:e.design,future:[]}})},selectComponent:n=>{e(e=>{e.selectedComponent=n})},hoverComponent:n=>{e(e=>{e.hoveredComponent=n})},setValidation:n=>{e(e=>{e.validation=n})},toggleLibrary:()=>{e(e=>{e.showLibrary=!e.showLibrary})},setShowLibrary:n=>{e(e=>{e.showLibrary=n})},setActiveCategory:n=>{e(e=>{e.activeCategory=n})},toggleServiceComparison:()=>{e(e=>{e.showServiceComparison=!e.showServiceComparison})},setShowServiceComparison:n=>{e(e=>{e.showServiceComparison=n})},toggleSecurityPanel:()=>{e(e=>{e.showSecurityPanel=!e.showSecurityPanel})},setShowSecurityPanel:n=>{e(e=>{e.showSecurityPanel=n})},toggleElasticityVisualization:()=>{e(e=>{e.showElasticityVisualization=!e.showElasticityVisualization})},setShowElasticityVisualization:n=>{e(e=>{e.showElasticityVisualization=n})},setIsDraggingFromLibrary:n=>{e(e=>{e.isDraggingFromLibrary=n})},resetAllState:()=>{const n=ze();e({...Ie,design:n,history:{past:[],present:n,future:[]}})},loadDesign:n=>{e(e=>{e.design=n,e.history={past:[],present:n,future:[]},e.selectedComponent=null,e.validation=null})}})),{name:"cloud-designer-storage",partialize:e=>({design:e.design,canvasState:e.canvasState,showLibrary:e.showLibrary,activeCategory:e.activeCategory})}),{name:"CloudDesignerStore",enabled:!1})),Ee=[{type:"deployment-zone",label:"Deployment",icon:"ðŸŒ"},{type:"service-layer",label:"Services",icon:"âš™ï¸"},{type:"connectivity",label:"Connectivity",icon:"ðŸ”—"},{type:"vpc-element",label:"VPC",icon:"ðŸ“¦"},{type:"gateway",label:"Gateways",icon:"ðŸšª"},{type:"nfv-component",label:"NFV",icon:"ðŸ”€"}],Te=({onDragStart:n,onDragEnd:t})=>{const a=Ge(e=>e.showLibrary),i=Ge(e=>e.activeCategory),o=Ge(e=>e.setActiveCategory),s=Ge(e=>e.setShowLibrary),l=Ge(e=>e.setIsDraggingFromLibrary),c=r.filter(e=>e.type===i),d=(e,t)=>{l(!0),n(e,t)},p=()=>{l(!1),t()},u=()=>{s(!a)};return a?e.jsxs("div",{className:"fixed left-0 top-20 z-30 flex h-[calc(100vh-5rem)] w-72 flex-col border-r border-gray-200 bg-white shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"ðŸ“š"}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Components"})]}),e.jsx("button",{onClick:u,className:"rounded p-1 text-gray-600 transition-colors hover:bg-gray-200",title:"Hide Library",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:e.jsx("div",{className:"grid grid-cols-3 gap-1 p-2",children:Ee.map(n=>e.jsxs("button",{onClick:()=>o(n.type),className:`\n                flex flex-col items-center gap-1 rounded-lg px-2 py-2 text-xs font-medium transition-all\n                ${i===n.type?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-gray-100"}\n              `,title:n.label,children:[e.jsx("span",{className:"text-lg",children:n.icon}),e.jsx("span",{className:"truncate",children:n.label})]},n.type))})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.jsx("div",{className:"space-y-3",children:0===c.length?e.jsx("div",{className:"rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No components in this category"})}):c.map(n=>e.jsx(Re,{item:n,onDragStart:d,onDragEnd:p},`${n.type}-${n.subtype}`))})}),e.jsx("div",{className:"border-t border-gray-200 bg-gray-50 px-4 py-3",children:e.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-600",children:[e.jsx("span",{className:"text-base",children:"ðŸ’¡"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tip:"})," Drag components onto the canvas to build your cloud architecture"]})]})})]}):e.jsx("div",{className:"fixed left-0 top-20 z-30",children:e.jsxs("button",{onClick:u,className:"flex items-center gap-2 rounded-r-lg bg-blue-600 px-3 py-2 text-white shadow-lg transition-all hover:bg-blue-700",title:"Show Component Library",children:[e.jsx("span",{className:"text-lg",children:"ðŸ“š"}),e.jsx("span",{className:"text-sm font-medium",children:"Components"})]})})},Re=({item:n,onDragStart:t,onDragEnd:a})=>e.jsxs("div",{draggable:!0,onDragStart:e=>t(e,n),onDragEnd:a,className:"group cursor-move rounded-lg border border-gray-200 bg-white p-3 shadow-sm transition-all hover:shadow-md hover:border-blue-400 hover:bg-blue-50",style:{borderLeftColor:n.color,borderLeftWidth:"4px"},children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",role:"img","aria-label":n.name,children:n.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800 group-hover:text-blue-700",children:n.name}),e.jsx("p",{className:"text-xs text-gray-500",children:n.subtype})]})]}),e.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded bg-gray-100 text-gray-400 transition-colors group-hover:bg-blue-200 group-hover:text-blue-600",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})})]}),e.jsx("p",{className:"text-xs leading-relaxed text-gray-600",children:n.description}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 border-t border-gray-100 pt-2",children:[e.jsxs("span",{className:"rounded-full bg-gray-100 px-2 py-1 text-xs text-gray-600",children:[n.defaultWidth,"Ã—",n.defaultHeight]}),n.properties.length>0&&e.jsxs("span",{className:"rounded-full bg-blue-100 px-2 py-1 text-xs text-blue-600",children:[n.properties.length," properties"]})]})]}),Le=({selectedComponent:n,onPropertyChange:t,onNameChange:a,onCreateConnection:i,availableTargets:o})=>{const s=r.find(e=>e.type===n.type&&e.subtype===n.subtype);return e.jsxs("div",{className:"properties-panel",children:[e.jsx("h3",{children:"Properties"}),e.jsxs("div",{className:"property-item",children:[e.jsx("label",{htmlFor:"component-name",children:"Name:"}),e.jsx("input",{id:"component-name",type:"text",value:n.name,onChange:e=>a(e.target.value)})]}),s?.properties.map(a=>e.jsxs("div",{className:"property-item",children:[e.jsxs("label",{children:[a.label,":"]}),"select"===a.type?e.jsxs("select",{value:String(n.properties[a.key]||""),onChange:e=>t(a.key,e.target.value),children:[e.jsx("option",{value:"",children:"Select..."}),a.options?.map(n=>e.jsx("option",{value:n,children:n},n))]}):"boolean"===a.type?e.jsx("input",{type:"checkbox",checked:Boolean(n.properties[a.key]),onChange:e=>t(a.key,e.target.checked)}):"number"===a.type?e.jsx("input",{type:"number",value:Number(n.properties[a.key]||0),onChange:e=>t(a.key,parseInt(e.target.value))}):e.jsx("input",{type:"text",value:String(n.properties[a.key]||""),onChange:e=>t(a.key,e.target.value)})]},a.key)),e.jsxs("div",{className:"connection-section",children:[e.jsx("h4",{children:"Create Connection"}),e.jsxs("select",{onChange:e=>{e.target.value&&(i(n.id,e.target.value),e.target.value="")},children:[e.jsx("option",{value:"",children:"Connect to..."}),o.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]})]})]})},We=({validation:n})=>e.jsxs("div",{className:"validation-panel",children:[e.jsx("h3",{children:"Validation Results"}),e.jsxs("div",{className:"score "+(n.valid?"valid":"invalid"),children:["Score: ",n.score,"%"]}),n.errors.length>0&&e.jsxs("div",{className:"errors",children:[e.jsx("h4",{children:"Errors:"}),e.jsx("ul",{children:n.errors.map((n,t)=>e.jsxs("li",{className:"error",children:[n.message,e.jsx("span",{className:"suggestion",children:n.suggestion})]},t))})]}),n.warnings.length>0&&e.jsxs("div",{className:"warnings",children:[e.jsx("h4",{children:"Warnings:"}),e.jsx("ul",{children:n.warnings.map((n,t)=>e.jsx("li",{className:"warning",children:n.message},t))})]}),n.valid&&e.jsx("div",{className:"success-message",children:"All validation checks passed! Your architecture follows best practices."})]}),Fe={SaaS:{name:"Software as a Service",examples:["Salesforce","Office 365","Slack","Google Workspace"],management:"Fully Managed by Vendor",responsibility:["User data","Configuration"],scalability:"Automatic",cost:"Per-user subscription",pros:["Low maintenance","Easy collaboration","Automatic updates"],cons:["Less customization","Vendor lock-in","Limited control"]},PaaS:{name:"Platform as a Service",examples:["AWS Lambda","Azure App Service","Heroku","Firebase"],management:"Managed Runtime/Middleware",responsibility:["Application","Data","Runtime config"],scalability:"Automatic with auto-scaling",cost:"Per resource usage",pros:["Rapid development","Built-in services","Automatic scaling"],cons:["Platform constraints","Vendor APIs","Potential costs"]},IaaS:{name:"Infrastructure as a Service",examples:["AWS EC2","Azure VMs","GCP Compute Engine","DigitalOcean"],management:"Compute/Storage/Network",responsibility:["OS","Middleware","Applications","Data"],scalability:"Manual or auto-scaling setup",cost:"Per instance/storage/data transfer",pros:["Maximum flexibility","No CapEx","Complete control"],cons:["Management overhead","Security responsibility","Complexity"]}},Ve=[{name:"VPN (Virtual Private Network)",icon:"ðŸ”",bandwidth:"50-500 Mbps",latency:"20-100 ms",cost:"$",encryption:"IPSec/TLS",bestFor:"Remote offices, low bandwidth requirements",security:"Encrypted over internet"},{name:"Direct Connect",icon:"âš¡",bandwidth:"1-100 Gbps",latency:"< 10 ms",cost:"$$$",encryption:"Optional (dedicated line)",bestFor:"High bandwidth, mission-critical, low latency",security:"Dedicated private connection"},{name:"Internet Gateway",icon:"ðŸŒ",bandwidth:"Best effort",latency:"50-200 ms",cost:"$",encryption:"TLS/HTTPS",bestFor:"Public web services, internet access",security:"Application-level encryption"}],He={Public:{description:"Multi-tenant cloud infrastructure operated by third-party",providers:["AWS","Azure","GCP","Oracle Cloud"],advantages:["Cost effective","Scalable","Global presence","Managed services"],challenges:["Security concerns","Compliance","Multi-tenancy","Limited customization"],useCases:["Web applications","SaaS delivery","Big data analytics"]},Private:{description:"Dedicated cloud infrastructure for single organization",providers:["On-premises","Hosted private clouds","Dedicated hosting"],advantages:["Data control","Custom configuration","Compliance","Security"],challenges:["High CapEx","Skilled staff required","Limited scalability"],useCases:["Banking/Finance","Healthcare","Government"]},Hybrid:{description:"Combination of public and private cloud resources",providers:["VMware Cloud","Azure Stack","AWS Outposts"],advantages:["Flexibility","Cost optimization","Compliance","Scalability"],challenges:["Complexity","Management overhead","Inter-cloud connectivity"],useCases:["Burst capacity","Data sovereignty","Legacy + cloud"]}},$e=[{area:"Identity & Access Management (IAM)",icon:"ðŸ”‘",concepts:["Multi-factor authentication","RBAC","Service accounts","API keys"],bestPractices:["Principle of least privilege","Regular access reviews","Centralized identity management","Conditional access policies"]},{area:"Encryption",icon:"ðŸ”’",concepts:["Encryption at rest","Encryption in transit","Key management","TLS/SSL"],bestPractices:["Always encrypt sensitive data","Use strong encryption algorithms","Separate key management","Certificate pinning for APIs"]},{area:"Network Security",icon:"ðŸ›¡ï¸",concepts:["Security groups","NACLs","WAF","Virtual firewalls"],bestPractices:["Network segmentation","Defense in depth","DDoS protection","Traffic inspection"]},{area:"Compliance & Governance",icon:"ðŸ“‹",concepts:["HIPAA","PCI-DSS","GDPR","FedRAMP"],bestPractices:["Audit logging","Data residency controls","Compliance monitoring","Regular assessments"]}],Be=[{name:"Shared Instance",description:"All customers share same application instance",isolation:"Logical (database rows, application logic)",dataComplexity:"Moderate",costEfficiency:"High",securityRisk:"Medium"},{name:"Dedicated Instance",description:"Each customer has dedicated application instance",isolation:"Instance-level",dataComplexity:"Low",costEfficiency:"Medium",securityRisk:"Low"},{name:"Separate Database",description:"Each customer has separate database",isolation:"Database-level",dataComplexity:"Low",costEfficiency:"Low",securityRisk:"Very Low"}],Oe=({onClose:n})=>e.jsxs("div",{className:"feature-panel service-comparison-panel",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h3",{children:"Service Models Comparison"}),e.jsx("button",{onClick:n,className:"close-btn",children:"Ã—"})]}),e.jsxs("div",{className:"service-summary-cards",children:[e.jsxs("div",{className:"summary-card iaas-card",children:[e.jsx("div",{className:"summary-icon",children:"ðŸ—ï¸"}),e.jsx("h4",{children:"IaaS"}),e.jsx("p",{children:"Maximum Control"})]}),e.jsxs("div",{className:"summary-card paas-card",children:[e.jsx("div",{className:"summary-icon",children:"âš™ï¸"}),e.jsx("h4",{children:"PaaS"}),e.jsx("p",{children:"Rapid Development"})]}),e.jsxs("div",{className:"summary-card saas-card",children:[e.jsx("div",{className:"summary-icon",children:"ðŸ“±"}),e.jsx("h4",{children:"SaaS"}),e.jsx("p",{children:"Ready to Use"})]})]}),e.jsx("div",{className:"comparison-matrix",children:Object.entries(Fe).map(([n,t])=>{const a="IaaS"===n?"iaas":"PaaS"===n?"paas":"saas";return e.jsxs("div",{className:`comparison-card ${a}`,children:[e.jsxs("h4",{children:[e.jsx("span",{className:"model-icon",children:"IaaS"===n?"ðŸ—ï¸":"PaaS"===n?"âš™ï¸":"ðŸ“±"}),t.name]}),e.jsxs("div",{className:"comparison-row",children:[e.jsx("strong",{children:"Examples:"}),e.jsx("span",{children:t.examples.join(", ")})]}),e.jsxs("div",{className:"comparison-row",children:[e.jsx("strong",{children:"Management:"}),e.jsx("span",{children:t.management})]}),e.jsxs("div",{className:"comparison-row",children:[e.jsx("strong",{children:"Your Responsibility:"}),e.jsx("ul",{className:"responsibility-list",children:t.responsibility.map((n,t)=>e.jsx("li",{children:n},t))})]}),e.jsxs("div",{className:"comparison-row",children:[e.jsx("strong",{children:"Scalability:"}),e.jsx("span",{children:t.scalability})]}),e.jsxs("div",{className:"comparison-row",children:[e.jsx("strong",{children:"Cost Model:"}),e.jsx("span",{children:t.cost})]}),e.jsxs("div",{className:"comparison-row",children:[e.jsx("strong",{children:"Pros:"}),e.jsx("ul",{className:"pros-list",children:t.pros.map((n,t)=>e.jsx("li",{children:n},t))})]}),e.jsxs("div",{className:"comparison-row",children:[e.jsx("strong",{children:"Cons:"}),e.jsx("ul",{className:"cons-list",children:t.cons.map((n,t)=>e.jsx("li",{children:n},t))})]})]},n)})}),e.jsxs("div",{className:"connectivity-section",children:[e.jsx("h4",{className:"section-title",children:"Cloud Connectivity Options"}),e.jsx("div",{className:"connectivity-grid",children:Ve.map(n=>e.jsxs("div",{className:"connectivity-card",children:[e.jsx("div",{className:"connectivity-icon",children:n.icon}),e.jsx("h5",{children:n.name}),e.jsxs("div",{className:"connectivity-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Bandwidth:"}),e.jsx("span",{className:"detail-value",children:n.bandwidth})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Latency:"}),e.jsx("span",{className:"detail-value",children:n.latency})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Cost:"}),e.jsx("span",{className:"detail-value",children:n.cost})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Encryption:"}),e.jsx("span",{className:"detail-value",children:n.encryption})]}),e.jsxs("div",{className:"detail-row best-for",children:[e.jsx("span",{className:"detail-label",children:"Best For:"}),e.jsx("span",{className:"detail-value",children:n.bestFor})]}),e.jsxs("div",{className:"detail-row security",children:[e.jsx("span",{className:"detail-label",children:"Security:"}),e.jsx("span",{className:"detail-value",children:n.security})]})]})]},n.name))})]})]}),qe=({onClose:n})=>e.jsxs("div",{className:"feature-panel security-panel",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h3",{children:"Cloud Security Basics"}),e.jsx("button",{onClick:n,className:"close-btn",children:"Ã—"})]}),e.jsxs("div",{className:"deployment-models",children:[e.jsx("h4",{children:"Deployment Models"}),e.jsx("div",{className:"deployment-grid",children:Object.entries(He).map(([n,t])=>e.jsxs("div",{className:"deployment-card",children:[e.jsx("h5",{children:n}),e.jsx("p",{className:"description",children:t.description}),e.jsxs("div",{className:"detail-section",children:[e.jsx("strong",{children:"Providers:"}),e.jsx("p",{children:t.providers.join(", ")})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("strong",{children:"Advantages:"}),e.jsx("ul",{children:t.advantages.map((n,t)=>e.jsx("li",{children:n},t))})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("strong",{children:"Use Cases:"}),e.jsx("p",{children:t.useCases.join(", ")})]})]},n))})]}),e.jsxs("div",{className:"security-concepts",children:[e.jsx("h4",{style:{marginTop:"20px"},children:"Security Concepts"}),$e.map(n=>e.jsxs("div",{className:"security-card",children:[e.jsx("div",{className:"security-icon",children:n.icon}),e.jsxs("div",{className:"security-content",children:[e.jsx("h5",{children:n.area}),e.jsxs("div",{className:"security-row",children:[e.jsx("strong",{children:"Key Concepts:"}),e.jsx("p",{children:n.concepts.join(", ")})]}),e.jsxs("div",{className:"security-row",children:[e.jsx("strong",{children:"Best Practices:"}),e.jsx("ul",{children:n.bestPractices.map((n,t)=>e.jsx("li",{children:n},t))})]})]})]},n.area))]})]}),Ye=({onClose:n})=>e.jsxs("div",{className:"feature-panel elasticity-panel",children:[e.jsxs("div",{className:"panel-header",children:[e.jsx("h3",{children:"Multi-tenancy & Elasticity"}),e.jsx("button",{onClick:n,className:"close-btn",children:"Ã—"})]}),e.jsxs("div",{className:"multitenancy-section",children:[e.jsx("h4",{children:"Multi-tenancy Patterns"}),e.jsx("div",{className:"pattern-grid",children:Be.map(n=>e.jsxs("div",{className:"pattern-card",children:[e.jsx("h5",{children:n.name}),e.jsx("p",{className:"pattern-description",children:n.description}),e.jsxs("div",{className:"pattern-detail",children:[e.jsx("strong",{children:"Isolation:"}),e.jsx("p",{children:n.isolation})]}),e.jsxs("div",{className:"pattern-detail",children:[e.jsx("strong",{children:"Data Complexity:"}),e.jsx("p",{children:n.dataComplexity})]}),e.jsxs("div",{className:"pattern-detail",children:[e.jsx("strong",{children:"Cost Efficiency:"}),e.jsx("p",{className:`efficiency-${n.costEfficiency.toLowerCase()}`,children:n.costEfficiency})]}),e.jsxs("div",{className:"pattern-detail",children:[e.jsx("strong",{children:"Security Risk:"}),e.jsx("p",{className:`risk-${n.securityRisk.toLowerCase().replace(" ","-")}`,children:n.securityRisk})]})]},n.name))})]}),e.jsxs("div",{className:"elasticity-info",children:[e.jsx("h4",{style:{marginTop:"20px"},children:"Elasticity Concepts"}),e.jsxs("div",{className:"info-cards",children:[e.jsxs("div",{className:"elasticity-card",children:[e.jsx("h5",{children:"Vertical Scaling"}),e.jsx("p",{children:"Increasing resources (CPU, RAM) on existing instances"}),e.jsx("strong",{children:"Best For:"})," Database servers, memory-intensive applications"]}),e.jsxs("div",{className:"elasticity-card",children:[e.jsx("h5",{children:"Horizontal Scaling"}),e.jsx("p",{children:"Adding more instances to distribute load"}),e.jsx("strong",{children:"Best For:"})," Stateless applications, web servers"]}),e.jsxs("div",{className:"elasticity-card",children:[e.jsx("h5",{children:"Auto-Scaling"}),e.jsx("p",{children:"Automatic adjustment based on metrics (CPU, memory, requests)"}),e.jsx("strong",{children:"Best For:"})," Variable workloads, burst scenarios"]}),e.jsxs("div",{className:"elasticity-card",children:[e.jsx("h5",{children:"Serverless"}),e.jsx("p",{children:"Pay-per-use functions without server management"}),e.jsx("strong",{children:"Best For:"})," Event-driven workloads, microservices"]})]})]})]}),Xe={"cloud-architecture-designer":"_cloud-architecture-designer_1pd68_1",header:"_header_1pd68_9","title-section":"_title-section_1pd68_19","title-wrapper":"_title-wrapper_1pd68_25",subtitle:"_subtitle_1pd68_32","design-name-wrapper":"_design-name-wrapper_1pd68_45","design-name":"_design-name_1pd68_45",metadata:"_metadata_1pd68_73",toolbar:"_toolbar_1pd68_95","button-group":"_button-group_1pd68_101",actions:"_actions_1pd68_107","toolbar-btn":"_toolbar-btn_1pd68_112",secondary:"_secondary_1pd68_140",accent:"_accent_1pd68_149",active:"_active_1pd68_157","snap-toggle":"_snap-toggle_1pd68_198",workspace:"_workspace_1pd68_223","canvas-container":"_canvas-container_1pd68_375","canvas-controls":"_canvas-controls_1pd68_382","zoom-controls":"_zoom-controls_1pd68_391","history-controls":"_history-controls_1pd68_393",canvas:"_canvas_1pd68_375","drop-zone-active":"_drop-zone-active_1pd68_461",panning:"_panning_1pd68_468","connections-layer":"_connections-layer_1pd68_472","canvas-component":"_canvas-component_1pd68_499",selected:"_selected_1pd68_515","component-header":"_component-header_1pd68_531","component-actions":"_component-actions_1pd68_555","component-body":"_component-body_1pd68_610","component-type":"_component-type_1pd68_615","resize-handle":"_resize-handle_1pd68_624","handle-nw":"_handle-nw_1pd68_642","handle-ne":"_handle-ne_1pd68_648","handle-sw":"_handle-sw_1pd68_654","handle-se":"_handle-se_1pd68_660","size-indicator":"_size-indicator_1pd68_667"},Ue=({designName:n,componentCount:t,connectionCount:a,showLibrary:i,showServiceComparison:o,showSecurityPanel:s,showElasticityVisualization:r,snapToGrid:l,onDesignNameChange:c,onToggleLibrary:d,onToggleServiceComparison:p,onToggleSecurityPanel:u,onToggleElasticity:m,onValidate:h,onExport:g,onToggleSnapToGrid:y})=>e.jsxs("div",{className:Xe.header,children:[e.jsxs("div",{className:Xe["title-section"],children:[e.jsxs("div",{className:Xe["title-wrapper"],children:[e.jsx("h2",{children:"Cloud Architecture Designer"}),e.jsx("p",{className:Xe.subtitle,children:"Design and validate cloud infrastructure architectures"})]}),e.jsxs("div",{className:Xe["design-name-wrapper"],children:[e.jsx("input",{type:"text",className:Xe["design-name"],value:n,onChange:e=>c(e.target.value),placeholder:"Architecture name"}),e.jsxs("div",{className:Xe.metadata,children:[e.jsxs("span",{children:[t," component",1!==t?"s":""]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[a," connection",1!==a?"s":""]})]})]})]}),e.jsxs("div",{className:Xe.toolbar,children:[e.jsxs("div",{className:Xe["button-group"],children:[e.jsxs("button",{className:`${Xe["toolbar-btn"]} ${i?Xe.active:""}`,onClick:d,children:[e.jsx("span",{children:"ðŸ“š"})," ",i?"Hide":"Show"," Library"]}),e.jsxs("button",{className:`${Xe["toolbar-btn"]} ${Xe.secondary} ${o?Xe.active:""}`,onClick:p,children:[e.jsx("span",{children:"â˜ï¸"})," Service Models"]}),e.jsxs("button",{className:`${Xe["toolbar-btn"]} ${Xe.secondary} ${s?Xe.active:""}`,onClick:u,children:[e.jsx("span",{children:"ðŸ”’"})," Security"]}),e.jsxs("button",{className:`${Xe["toolbar-btn"]} ${Xe.secondary} ${r?Xe.active:""}`,onClick:m,children:[e.jsx("span",{children:"âš¡"})," Elasticity"]})]}),e.jsxs("div",{className:`${Xe["button-group"]} ${Xe.actions}`,children:[e.jsxs("button",{className:`${Xe["toolbar-btn"]} ${Xe.accent}`,onClick:h,children:[e.jsx("span",{children:"âœ“"})," Validate"]}),e.jsxs("button",{className:`${Xe["toolbar-btn"]} ${Xe.secondary}`,onClick:g,children:[e.jsx("span",{children:"â†“"})," Export"]})]}),e.jsxs("label",{className:Xe["snap-toggle"],children:[e.jsx("input",{type:"checkbox",checked:l,onChange:e=>y(e.target.checked)}),e.jsx("span",{children:"Snap to Grid"})]})]})]}),Qe=({zoom:n,canUndo:t,canRedo:a,onZoomIn:i,onZoomOut:o,onUndo:s,onRedo:r})=>e.jsxs("div",{className:Xe["canvas-controls"],children:[e.jsxs("div",{className:Xe["zoom-controls"],children:[e.jsx("button",{onClick:i,children:"+"}),e.jsxs("span",{children:[Math.round(100*n),"%"]}),e.jsx("button",{onClick:o,children:"-"})]}),e.jsxs("div",{className:Xe["history-controls"],children:[e.jsx("button",{onClick:s,disabled:!t,children:"â†¶"}),e.jsx("button",{onClick:r,disabled:!a,children:"â†·"})]})]}),Je=t.forwardRef(({connections:n,components:t,connectionState:a},i)=>e.jsxs("svg",{ref:i,className:Xe["connections-layer"],children:[n.map(n=>{const a=t.find(e=>e.id===n.from),i=t.find(e=>e.id===n.to);if(!a||!i)return null;const o=a.x+a.width/2,s=a.y+a.height/2,r=i.x+i.width/2,l=i.y+i.height/2,c=Math.sqrt((r-o)**2+(l-s)**2),d=Math.min(.4*c,100),p=`M ${o} ${s} C ${o+d} ${s}, ${r-d} ${l}, ${r} ${l}`;return e.jsxs("g",{children:[e.jsx("path",{d:p,stroke:"#3b82f6",strokeWidth:"3",fill:"none",markerEnd:"url(#arrowhead)"}),e.jsx("text",{x:(o+r)/2,y:(s+l)/2-10,fill:"#374151",fontSize:"11",fontWeight:"600",textAnchor:"middle",children:n.label})]},n.id)}),a.isConnecting&&a.fromId&&(()=>{const n=t.find(e=>e.id===a.fromId);if(!n)return null;const i=n.x+n.width/2,o=n.y+n.height/2,s=Math.sqrt((a.cursorX-i)**2+(a.cursorY-o)**2),r=Math.min(.4*s,100),l=`M ${i} ${o} C ${i+r} ${o}, ${a.cursorX-r} ${a.cursorY}, ${a.cursorX} ${a.cursorY}`;return e.jsx("path",{d:l,stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"5,5",fill:"none",opacity:"0.6"})})(),e.jsx("defs",{children:e.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 3, 0 6",fill:"#3b82f6"})})})]}));Je.displayName="ConnectionsLayer";const Ze=({component:n,isSelected:t,isHovered:a,onMouseDown:i,onMouseEnter:o,onMouseLeave:s,onSelect:r,onConnectionToggle:l,onDuplicate:c,onDelete:d,onResizeMouseDown:p})=>e.jsxs("div",{className:`${Xe["canvas-component"]} ${t?Xe.selected:""} ${a?Xe.hovered:""}`,style:{left:n.x,top:n.y,width:n.width,height:n.height,backgroundColor:n.color+"20",borderColor:n.color},onClick:e=>{e.stopPropagation(),r(n)},onMouseDown:e=>i(e,n),onMouseEnter:o,onMouseLeave:s,children:[e.jsxs("div",{className:Xe["component-header"],style:{backgroundColor:n.color},children:[e.jsx("span",{children:n.icon}),e.jsx("span",{children:n.name}),e.jsxs("div",{className:Xe["component-actions"],children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),l(n.id)},children:"ðŸ”—"}),e.jsx("button",{onClick:e=>{e.stopPropagation(),c(n.id)},children:"â§‰"}),e.jsx("button",{className:"delete-btn",onClick:e=>{e.stopPropagation(),d(n.id)},children:"Ã—"})]})]}),e.jsx("div",{className:Xe["component-body"],children:e.jsx("div",{className:Xe["component-type"],children:n.subtype})}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${Xe["resize-handle"]} ${Xe["handle-nw"]}`,onMouseDown:e=>p(e,n,"nw")}),e.jsx("div",{className:`${Xe["resize-handle"]} ${Xe["handle-ne"]}`,onMouseDown:e=>p(e,n,"ne")}),e.jsx("div",{className:`${Xe["resize-handle"]} ${Xe["handle-sw"]}`,onMouseDown:e=>p(e,n,"sw")}),e.jsx("div",{className:`${Xe["resize-handle"]} ${Xe["handle-se"]}`,onMouseDown:e=>p(e,n,"se")}),e.jsxs("div",{className:Xe["size-indicator"],children:[Math.round(n.width)," Ã— ",Math.round(n.height)]})]})]}),Ke=()=>{const t=n.useRef(null),a=n.useRef(null),i=Ge(e=>e.design),o=Ge(e=>e.canvasState),s=Ge(e=>e.selectedComponent),c=Ge(e=>e.hoveredComponent),d=Ge(e=>e.validation),p=Ge(e=>e.showLibrary),u=Ge(e=>e.showServiceComparison),m=Ge(e=>e.showSecurityPanel),h=Ge(e=>e.showElasticityVisualization),g=Ge(e=>e.isDraggingFromLibrary),y=Ge(e=>e.connectionState),f=Ge(e=>e.canvasPan),b=Ge(e=>e.setDesign),x=Ge(e=>e.selectComponent),v=Ge(e=>e.setShowLibrary),w=Ge(e=>e.setCanvasState),S=Ge(e=>e.setValidation),C=Ge(e=>e.toggleServiceComparison),j=Ge(e=>e.toggleSecurityPanel),k=Ge(e=>e.toggleElasticityVisualization),N=Ge(e=>e.hoverComponent),P=n.useMemo(()=>{return e=o.snapToGrid,n=o.gridSize,t=>e?Math.round(t/n)*n:t;var e,n},[o.snapToGrid,o.gridSize]),{handleUndo:_,handleRedo:A,canUndo:D,canRedo:z}=(()=>{const e=Ge(e=>e.history),t=Ge(e=>e.setDesign);return{handleUndo:n.useCallback(()=>{if(e.past.length>0){const n=e.past[e.past.length-1];t(n)}},[e.past,t]),handleRedo:n.useCallback(()=>{if(e.future.length>0){const n=e.future[0];t(n)}},[e.future,t]),canUndo:e.past.length>0,canRedo:e.future.length>0}})(),{handleComponentDelete:M,handleDuplicateComponent:I,handlePropertyChange:G,handleNameChange:E,handleCreateConnection:T}=(()=>{const e=Ge(e=>e.design),t=Ge(e=>e.selectedComponent),a=Ge(e=>e.setDesign),i=Ge(e=>e.selectComponent);return{handleComponentDelete:n.useCallback(n=>{a({...e,components:e.components.filter(e=>e.id!==n),connections:e.connections.filter(e=>e.from!==n&&e.to!==n),metadata:{...e.metadata,modified:new Date}}),i(null)},[e,a,i]),handleDuplicateComponent:n.useCallback(n=>{const t=e.components.find(e=>e.id===n);if(!t)return;const o={...t,id:`component-${Date.now()}`,name:`${t.name} (Copy)`,x:t.x+20,y:t.y+20};a({...e,components:[...e.components,o],metadata:{...e.metadata,modified:new Date}}),i(o)},[e,a,i]),handlePropertyChange:n.useCallback((n,o)=>{if(!t)return;const s=e.components.map(e=>e.id===t.id?{...e,properties:{...e.properties,[n]:o}}:e);a({...e,components:s,metadata:{...e.metadata,modified:new Date}}),i({...t,properties:{...t.properties,[n]:o}})},[t,e,a,i]),handleNameChange:n.useCallback(n=>{if(!t)return;const o=e.components.map(e=>e.id===t.id?{...e,name:n}:e);a({...e,components:o}),i({...t,name:n})},[t,e,a,i]),handleCreateConnection:n.useCallback((n,t)=>{const i=e.components.find(e=>e.id===n),o=e.components.find(e=>e.id===t);if(!i||!o)return;const s=r.find(e=>e.type===i.type&&e.subtype===i.subtype);if(s&&!s.allowedConnections.includes(o.type))return void alert(`Cannot connect ${i.subtype} to ${o.subtype}`);const l={id:`connection-${Date.now()}`,from:n,to:t,type:"network",label:`${i.name} â†’ ${o.name}`};a({...e,connections:[...e.connections,l],metadata:{...e.metadata,modified:new Date}})},[e,a])}})(),{handleDragStart:R,handleDragEnd:L,handleDragOver:W,handleDrop:F}=((e,t)=>{const a=Ge(e=>e.design),i=Ge(e=>e.canvasState),o=Ge(e=>e.setDesign),s=Ge(e=>e.selectComponent),r=Ge(e=>e.setIsDraggingFromLibrary);return{handleDragStart:n.useCallback((e,n)=>{e.dataTransfer.setData("application/json",JSON.stringify(n)),e.dataTransfer.effectAllowed="copy",r(!0)},[r]),handleDragEnd:n.useCallback(()=>{r(!1)},[r]),handleDragOver:n.useCallback(e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"},[]),handleDrop:n.useCallback(n=>{n.preventDefault(),r(!1);const l=n.dataTransfer.getData("application/json");if(!l)return;const c=JSON.parse(l),d=e.current?.getBoundingClientRect();if(!d)return;const p=t((n.clientX-d.left)/i.zoom),u=t((n.clientY-d.top)/i.zoom),m={id:`component-${Date.now()}`,type:c.type,subtype:c.subtype,name:`${c.name} ${a.components.length+1}`,x:p,y:u,width:c.defaultWidth,height:c.defaultHeight,color:c.color,icon:c.icon,properties:c.properties.reduce((e,n)=>(e[n.key]=n.default||"",e),{}),connections:[]};o({...a,components:[...a.components,m],metadata:{...a.metadata,modified:new Date}}),s(m)},[a,i.zoom,t,o,s,r,e])}})(t,P),{handleComponentMouseDown:V,handleCanvasMouseMove:H,handleCanvasMouseUp:$,handleResizeMouseDown:B,handleCanvasMouseDown:O}=((e,t)=>{const a=Ge(e=>e.design),i=Ge(e=>e.canvasState),o=Ge(e=>e.selectedComponent),s=Ge(e=>e.dragState),r=Ge(e=>e.resizeState),l=Ge(e=>e.connectionState),c=Ge(e=>e.canvasPan),d=Ge(e=>e.selectComponent),p=Ge(e=>e.setDesign),u=Ge(e=>e.setDragState),m=Ge(e=>e.setResizeState),h=Ge(e=>e.setConnectionState),g=Ge(e=>e.setCanvasPan),y=Ge(e=>e.setCanvasState);return{handleComponentMouseDown:n.useCallback((e,n)=>{const t=e.target;t.closest(".delete-btn")||t.closest(".resize-handle")||(e.stopPropagation(),d(n),u({isDragging:!0,componentId:n.id,startX:e.clientX,startY:e.clientY,offsetX:n.x,offsetY:n.y}))},[d,u]),handleCanvasMouseMove:n.useCallback(n=>{const u=e.current?.getBoundingClientRect();if(u){if(s.isDragging&&s.componentId){const e=(n.clientX-s.startX)/i.zoom,r=(n.clientY-s.startY)/i.zoom;let l=t(s.offsetX+e),c=t(s.offsetY+r);l=Math.max(0,Math.min(l,1900)),c=Math.max(0,Math.min(c,1400));const u=a.components.map(e=>e.id===s.componentId?{...e,x:l,y:c}:e);p({...a,components:u,metadata:{...a.metadata,modified:new Date}}),o?.id===s.componentId&&d({...o,x:l,y:c})}if(r.isResizing&&r.componentId&&r.handle){const e=(n.clientX-r.startX)/i.zoom,s=(n.clientY-r.startY)/i.zoom;let l=r.startWidth,c=r.startHeight,u=r.startComponentX,m=r.startComponentY;"se"===r.handle?(l=Math.max(80,r.startWidth+e),c=Math.max(60,r.startHeight+s)):"ne"===r.handle?(l=Math.max(80,r.startWidth+e),c=Math.max(60,r.startHeight-s),m=r.startComponentY+s):"sw"===r.handle?(l=Math.max(80,r.startWidth-e),c=Math.max(60,r.startHeight+s),u=r.startComponentX+e):"nw"===r.handle&&(l=Math.max(80,r.startWidth-e),c=Math.max(60,r.startHeight-s),u=r.startComponentX+e,m=r.startComponentY+s),l=t(l),c=t(c),u=t(u),m=t(m);const h=a.components.map(e=>e.id===r.componentId?{...e,width:l,height:c,x:u,y:m}:e);p({...a,components:h,metadata:{...a.metadata,modified:new Date}}),o?.id===r.componentId&&d({...o,width:l,height:c,x:u,y:m})}if(l.isConnecting){const e=(n.clientX-u.left)/i.zoom,t=(n.clientY-u.top)/i.zoom;h({...l,cursorX:e,cursorY:t})}if(c.isPanning){const e=n.clientX-c.startX,t=n.clientY-c.startY;y({...i,panX:i.panX+e,panY:i.panY+t}),g({...c,startX:n.clientX,startY:n.clientY})}}},[s,r,l,c,a,o,i,t,p,d,h,y,g,e]),handleCanvasMouseUp:n.useCallback(()=>{u({isDragging:!1,componentId:null,startX:0,startY:0,offsetX:0,offsetY:0}),m({isResizing:!1,componentId:null,handle:null,startX:0,startY:0,startWidth:0,startHeight:0,startComponentX:0,startComponentY:0}),g({isPanning:!1,startX:0,startY:0})},[u,m,g]),handleResizeMouseDown:n.useCallback((e,n,t)=>{e.stopPropagation(),m({isResizing:!0,componentId:n.id,handle:t,startX:e.clientX,startY:e.clientY,startWidth:n.width,startHeight:n.height,startComponentX:n.x,startComponentY:n.y})},[m]),handleCanvasMouseDown:n.useCallback(n=>{const t=n.target;(t===e.current||t.classList.contains("connections-layer"))&&(g({isPanning:!0,startX:n.clientX,startY:n.clientY}),d(null))},[g,d,e])}})(t,P),{handleConnectionModeToggle:q}=(e=>{const t=Ge(e=>e.design),a=Ge(e=>e.connectionState),i=Ge(e=>e.setConnectionState);return{handleConnectionModeToggle:n.useCallback(n=>{if(a.isConnecting&&a.fromId===n)i({isConnecting:!1,fromId:null,cursorX:0,cursorY:0});else if(a.isConnecting&&a.fromId)e(a.fromId,n),i({isConnecting:!1,fromId:null,cursorX:0,cursorY:0});else{const e=t.components.find(e=>e.id===n);if(!e)return;i({isConnecting:!0,fromId:n,cursorX:e.x+e.width/2,cursorY:e.y+e.height/2})}},[a,t.components,e,i])}})(T),Y=n.useCallback(()=>{const e=((e,n)=>{const t=[],a=[];Object.values(l).forEach(n=>{const a=n.check(e);if(!a.valid){const e="object"==typeof a&&"message"in a&&"string"==typeof a.message?a.message:"Validation failed";t.push({message:e,severity:"error",suggestion:"Review architecture requirements"})}}),e.forEach(e=>{n.some(n=>n.from===e.id||n.to===e.id)||"deployment-zone"===e.type||a.push({componentId:e.id,message:`${e.name} is not connected to any other components`,type:"best-practice"})});const i=Math.max(0,100-15*t.length-5*a.length);return{valid:0===t.length,errors:t,warnings:a,score:i}})(i.components,i.connections);S(e),b({...i,validation:e})},[i,S,b]),X=n.useCallback(()=>{(e=>{const n=JSON.stringify(e,null,2),t=new Blob([n],{type:"application/json"}),a=URL.createObjectURL(t),i=document.createElement("a");i.href=a,i.download=`${e.name.replace(/\s+/g,"_")}.json`,i.click(),URL.revokeObjectURL(a)})(i)},[i]);return e.jsxs("div",{className:Xe["cloud-architecture-designer"],children:[e.jsx(Ue,{designName:i.name,componentCount:i.components.length,connectionCount:i.connections.length,showLibrary:p,showServiceComparison:u,showSecurityPanel:m,showElasticityVisualization:h,snapToGrid:o.snapToGrid,onDesignNameChange:e=>b({...i,name:e}),onToggleLibrary:()=>v(!p),onToggleServiceComparison:C,onToggleSecurityPanel:j,onToggleElasticity:k,onValidate:Y,onExport:X,onToggleSnapToGrid:e=>w({...o,snapToGrid:e})}),e.jsxs("div",{className:Xe.workspace,children:[p&&e.jsx(Te,{onDragStart:R,onDragEnd:L}),e.jsxs("div",{className:Xe["canvas-container"],children:[e.jsx(Qe,{zoom:o.zoom,canUndo:D,canRedo:z,onZoomIn:()=>w({...o,zoom:Math.min(2,o.zoom+.1)}),onZoomOut:()=>w({...o,zoom:Math.max(.5,o.zoom-.1)}),onUndo:_,onRedo:A}),e.jsxs("div",{ref:t,className:`${Xe.canvas} ${g?Xe["drop-zone-active"]:""} ${f.isPanning?Xe.panning:""}`,onDragOver:W,onDrop:F,onMouseDown:O,onMouseMove:H,onMouseUp:$,onMouseLeave:$,onWheel:e=>{if(e.ctrlKey){e.preventDefault();const n=Math.max(.5,Math.min(2,o.zoom+(e.deltaY>0?-.1:.1)));w({...o,zoom:n})}},style:{transform:`scale(${o.zoom})`,backgroundSize:`${o.gridSize}px ${o.gridSize}px`},children:[e.jsx(Je,{ref:a,connections:i.connections,components:i.components,connectionState:y}),i.components.map(n=>e.jsx(Ze,{component:n,isSelected:s?.id===n.id,isHovered:c===n.id,onMouseDown:V,onMouseEnter:()=>N(n.id),onMouseLeave:()=>N(null),onSelect:x,onConnectionToggle:q,onDuplicate:I,onDelete:M,onResizeMouseDown:B},n.id))]})]}),s&&e.jsx(Le,{selectedComponent:s,onPropertyChange:G,onNameChange:E,onCreateConnection:T,availableTargets:i.components.filter(e=>e.id!==s.id)}),u&&e.jsx(Oe,{onClose:C}),m&&e.jsx(qe,{onClose:j}),h&&e.jsx(Ye,{onClose:k})]}),d&&e.jsx(We,{validation:d})]})},en=Object.freeze(Object.defineProperty({__proto__:null,CloudArchitectureDesigner:Ke,default:Ke},Symbol.toStringTag,{value:"Module"}));export{w as C,en as i};
